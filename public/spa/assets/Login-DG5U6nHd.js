import"./request-Ca-4kpEd.js";/* empty css                     *//* empty css                *//* empty css                  *//* empty css                 */import{_ as E,r as p,a as V,c as b,o as x,b as t,d as o,w as s,E as F,e as L,f as B,u as C,g as I,h as M,i as R,j as z,k as N,l as c,m as U,s as h,n as q}from"./index-Dt_27I2L.js";import{l as K}from"./auth-CibFX3ac.js";const T={class:"login-container"},$={class:"login-card"},j={class:"login-header"},S={class:"login-footer"},A={__name:"Login",setup(D){const g=C(),a=p(),i=p(!1),n=V({username:"",password:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},u=async()=>{if(a.value)try{await a.value.validate(),i.value=!0;const{data:l,msg:e}=await K(n);h(l.token),q.success(e),g.push("/")}catch(l){console.error("登录失败:",l)}finally{i.value=!1}};return(l,e)=>{const f=I("Money"),v=F,m=R,d=M,w=N,y=U,k=B;return x(),b("div",T,[t("div",$,[t("div",j,[o(v,{class:"login-icon"},{default:s(()=>[o(f)]),_:1}),e[3]||(e[3]=t("h1",null,"记账系统",-1)),e[4]||(e[4]=t("p",null,"简单易用的个人记账工具",-1))]),o(k,{ref_key:"loginFormRef",ref:a,model:n,rules:_,class:"login-form",onSubmit:L(u,["prevent"])},{default:s(()=>[o(d,{prop:"username"},{default:s(()=>[o(m,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:s(()=>[o(m,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:z(u,["enter"])},null,8,["modelValue"])]),_:1}),o(d,null,{default:s(()=>[o(w,{type:"primary",size:"large",class:"login-btn",loading:i.value,onClick:u},{default:s(()=>[...e[5]||(e[5]=[c(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),t("div",S,[e[7]||(e[7]=t("span",null,"还没有账号？",-1)),o(y,{type:"primary",onClick:e[2]||(e[2]=r=>l.$router.push("/register"))},{default:s(()=>[...e[6]||(e[6]=[c(" 立即注册 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}},X=E(A,[["__scopeId","data-v-0cef88a0"]]);export{X as default};
