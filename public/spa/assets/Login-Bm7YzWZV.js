import"./request-CVhcPHCR.js";/* empty css                     *//* empty css                *//* empty css                  *//* empty css                 */import{r as d,a as E,c as V,o as b,b as t,d as o,w as s,E as x,e as F,f as L,u as B,g as C,h as I,i as M,j as R,k as z,l as c,m as N,s as U,n as h}from"./index-DvUvldwB.js";import{l as q}from"./auth-C9RALJ6o.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"login-container"},$={class:"login-card"},j={class:"login-header"},S={class:"login-footer"},A={__name:"Login",setup(D){const g=B(),a=d(),i=d(!1),n=E({username:"",password:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},u=async()=>{if(a.value)try{await a.value.validate(),i.value=!0;const{data:l,msg:e}=await q(n);U(l.token),h.success(e),g.push("/")}catch(l){console.error("登录失败:",l)}finally{i.value=!1}};return(l,e)=>{const f=C("Money"),v=x,p=M,m=I,w=z,y=N,k=L;return b(),V("div",T,[t("div",$,[t("div",j,[o(v,{class:"login-icon"},{default:s(()=>[o(f)]),_:1}),e[3]||(e[3]=t("h1",null,"记账系统",-1)),e[4]||(e[4]=t("p",null,"简单易用的个人记账工具",-1))]),o(k,{ref_key:"loginFormRef",ref:a,model:n,rules:_,class:"login-form",onSubmit:F(u,["prevent"])},{default:s(()=>[o(m,{prop:"username"},{default:s(()=>[o(p,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(m,{prop:"password"},{default:s(()=>[o(p,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:R(u,["enter"])},null,8,["modelValue"])]),_:1}),o(m,null,{default:s(()=>[o(w,{type:"primary",size:"large",class:"login-btn",loading:i.value,onClick:u},{default:s(()=>[...e[5]||(e[5]=[c(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),t("div",S,[e[7]||(e[7]=t("span",null,"还没有账号？",-1)),o(y,{type:"primary",onClick:e[2]||(e[2]=r=>l.$router.push("/register"))},{default:s(()=>[...e[6]||(e[6]=[c(" 立即注册 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}},Y=K(A,[["__scopeId","data-v-0cef88a0"]]);export{Y as default};
