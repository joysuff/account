import{cc as rt,a9 as L,en as Yi,ad as V,aO as X,as as Vt,be as K,ah as Tt,eo as yn,aL as G,aQ as Wt,ep as $i,dy as _n,eq as xn,er as Mr,es as bn,et as Sn,cx as Ie,bd as H,bF as j,av as Se,bS as gt,d4 as wn,au as F,eu as Cn,b6 as Nt,ev as dr,ew as Ki,ex as Dn,cz as Ir,aj as q,ey as An,ez as Tn,cn as mt,bz as $,dg as Ln,d2 as Mn,d_ as In,eA as Pn,cX as Z,e2 as pr,eB as qi,eC as kn,a4 as B,eD as On,ax as Lt,dk as ji,eE as Ji,eF as Pr,eG as En,eH as Qt,eI as Rn,eJ as ot,eK as Qi,eL as ta,eM as ge,eN as kr,dK as Ue,eO as Nn,eP as Bn,ae as Bt,eQ as ea,eR as ra,eS as ia,eT as aa,eU as na,eV as oa,eW as Or,eX as Gn,eY as zn,eZ as Fn,e_ as Hn,e$ as Vn,f0 as Wn,f1 as Xn,f2 as Zn,f3 as Un,bl as Er,d6 as Ye,aa as yt,aB as xt,bq as te,bi as $e,bY as It,bU as bt,f4 as Yn,f5 as $n,f6 as Kn,f7 as qn,f8 as jn,f9 as Jn,fa as Qn,fb as to,bZ as eo,fc as ro,fd as io,fe as ao,ff as no,fg as oo,fh as so,dD as sa,dP as lo,bB as Rr,fi as Ke,fj as la,fk as qe,c0 as uo,fl as ua,dr as ho,fm as fo,fn as vo,fo as co,fp as po,fq as se,fr as go,fs as mo,dR as J,bR as et,ft as yo,bf as le,bp as st,bK as re,fu as Nr,cY as _o,cZ as xo,aC as Gt,bn as bo,aA as we,bt as gr,c_ as ha,aF as So,bu as mr,bw as je,aw as Y,cv as Br,bO as wo,bm as Co,ao as Do,fv as Gr,fw as zr,an as fa,bs as kt,br as Ao,fx as zt,bx as Fr,fy as Je,ck as Hr,bD as wt,fz as To,az as Lo,c6 as Mo,ak as Vr,fA as Io,bT as Po,fB as ko,dF as va,dH as ca,a7 as Oo,a8 as Ft,cp as ie,bC as ae,fC as da,cC as Ce,ch as yr,c4 as _e,dE as xe,a5 as Eo,c8 as pa,a6 as Wr,dt as be,de as Ro,bN as No,dQ as ga,d7 as ma,d8 as Qe,b$ as Bo,ca as Go,d9 as zo,e7 as _r,cb as Fo,ea as Rt,cA as Ho,fD as ya,dS as Xr,fE as Vo,fF as Wo,fG as _a,dj as Xo,fH as Zo,cr as Uo,bQ as Zr,c7 as Yo,fI as Pe,fJ as Ur,fK as Yr,aJ as $o,fL as Ko,fM as qo,fN as jo,bh as $r,fO as Jo,cJ as Qo,cK as ts,e0 as Kr,cg as es,c1 as rs,bj as is}from"./index-DvUvldwB.js";import{r as De}from"./request-CVhcPHCR.js";function Ut(i){return i==null?0:i.length||1}function qr(i){return i}var as=function(){function i(e,t,r,a,n,o){this._old=e,this._new=t,this._oldKeyGetter=r||qr,this._newKeyGetter=a||qr,this.context=n,this._diffModeMultiple=o==="multiple"}return i.prototype.add=function(e){return this._add=e,this},i.prototype.update=function(e){return this._update=e,this},i.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},i.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},i.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},i.prototype.remove=function(e){return this._remove=e,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},a=new Array(e.length),n=new Array(t.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(t,r,n,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=a[o],l=r[s],u=Ut(l);if(u>1){var h=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(h,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(n,r)},i.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},a={},n=[],o=[];this._initIndexMap(e,r,n,"_oldKeyGetter"),this._initIndexMap(t,a,o,"_newKeyGetter");for(var s=0;s<n.length;s++){var l=n[s],u=r[l],h=a[l],f=Ut(u),c=Ut(h);if(f>1&&c===1)this._updateManyToOne&&this._updateManyToOne(h,u),a[l]=null;else if(f===1&&c>1)this._updateOneToMany&&this._updateOneToMany(h,u),a[l]=null;else if(f===1&&c===1)this._update&&this._update(h,u),a[l]=null;else if(f>1&&c>1)this._updateManyToMany&&this._updateManyToMany(h,u),a[l]=null;else if(f>1)for(var v=0;v<f;v++)this._remove&&this._remove(u[v]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},i.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var a=e[r],n=t[a],o=Ut(n);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(n[s]);else o===1&&this._add&&this._add(n);t[a]=null}},i.prototype._initIndexMap=function(e,t,r,a){for(var n=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[a](e[o],o);if(n||(r[o]=s),!!t){var l=t[s],u=Ut(l);u===0?(t[s]=o,n&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},i}(),ns=function(){function i(e,t){this._encode=e,this._schema=t}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function os(i,e){var t={},r=t.encode={},a=rt(),n=[],o=[],s={};L(i.dimensions,function(c){var v=i.getDimensionInfo(c),d=v.coordDim;if(d){var p=v.coordDimIndex;ke(r,d)[p]=c,v.isExtraCoord||(a.set(d,1),ls(v.type)&&(n[0]=c),ke(s,d)[p]=i.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(c)}Yi.each(function(m,g){var y=ke(r,g),_=v.otherDims[g];_!=null&&_!==!1&&(y[_]=v.name)})});var l=[],u={};a.each(function(c,v){var d=r[v];u[v]=d[0],l=l.concat(d)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=V(l,function(c){return i.getDimensionInfo(c).storeDimIndex}),t.encodeFirstDimNotExtra=u;var h=r.label;h&&h.length&&(n=h.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=n.slice()),r.defaultedLabel=n,r.defaultedTooltip=o,t.userOutput=new ns(s,e),t}function ke(i,e){return i.hasOwnProperty(e)||(i[e]=[]),i[e]}function ss(i){return i==="category"?"ordinal":i==="time"?"time":"float"}function ls(i){return!(i==="ordinal"||i==="time")}var me=function(){function i(e){this.otherDims={},e!=null&&X(this,e)}return i}(),us=Vt(),hs={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},xa=function(){function i(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=wa(this.source)))},i.prototype.getSourceDimensionIndex=function(e){return Tt(this._dimNameMap.get(e),-1)},i.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},i.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=yn(this.source),r=!Ca(e),a="",n=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,h=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=t?f.name:null,u=f.type,h=f.ordinalMeta,s++;else{var c=this.getSourceDimension(o);c&&(l=t?c.name:null,u=c.type)}n.push({property:l,type:u,ordinalMeta:h}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=hs[u]||"f",h&&(a+=h.uid),a+="$"}var v=this.source,d=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:n,hash:d}},i.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var a=void 0,n=this.dimensions[r];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(a=n.name),r++;else{var o=this.getSourceDimension(t);o&&(a=o.name)}e.push(a)}return e},i.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function ba(i){return i instanceof xa}function Sa(i){for(var e=rt(),t=0;t<(i||[]).length;t++){var r=i[t],a=K(r)?r.name:r;a!=null&&e.get(a)==null&&e.set(a,t)}return e}function wa(i){var e=us(i);return e.dimNameMap||(e.dimNameMap=Sa(i.dimensionsDefine))}function Ca(i){return i>30}var Yt=K,ft=V,fs=typeof Int32Array>"u"?Array:Int32Array,vs="e\0\0",jr=-1,cs=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],ds=["_approximateExtent"],Jr,ue,$t,Kt,Oe,qt,Ee,ps=function(){function i(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,a=!1;ba(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,r=e),r=r||["x","y"];for(var n={},o=[],s={},l=!1,u={},h=0;h<r.length;h++){var f=r[h],c=G(f)?new me({name:f}):f instanceof me?f:new me(f),v=c.name;c.type=c.type||"float",c.coordDim||(c.coordDim=v,c.coordDimIndex=0);var d=c.otherDims=c.otherDims||{};o.push(v),n[v]=c,u[v]!=null&&(l=!0),c.createInvertedIndices&&(s[v]=[]),d.itemName===0&&(this._nameDimIdx=h),d.itemId===0&&(this._idDimIdx=h),a&&(c.storeDimIndex=h)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var p=this._dimIdxToName=rt();L(o,function(m){p.set(n[m].storeDimIndex,m)})}}return i.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var a=this._schema.getSourceDimension(t);if(a)return a.name},i.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},i.prototype._recognizeDimIndex=function(e){if(Wt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},i.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},i.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},i.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var a=r.encode[e];return a?a[t]:null},i.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(e,t,r){var a=this,n;if(e instanceof Mr&&(n=e),!n){var o=this.dimensions,s=$i(e)||_n(e)?new xn(e,o.length):e;n=new Mr;var l=ft(o,function(u){return{type:a._dimInfos[u].type,property:u}});n.initData(s,l,r)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=os(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},i.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),a=r.start,n=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=a;s<n;s++){var l=s-a;this._nameList[s]=t[l],o&&Ee(this,s)}},i.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var a=this._dimInfos[t[r]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==bn&&!e.fillStorage},i.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,a=r.getProvider();this._updateOrdinalMeta();var n=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===dr;if(l&&!a.pure)for(var u=[],h=e;h<t;h++){var f=a.getItem(h,u);if(!this.hasItemOption&&Sn(f)&&(this.hasItemOption=!0),f){var c=f.name;n[h]==null&&c!=null&&(n[h]=Ie(c,null));var v=f.id;o[h]==null&&v!=null&&(o[h]=Ie(v,null))}}if(this._shouldMakeIdFromName())for(var h=e;h<t;h++)Ee(this,h);Jr(this)}},i.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},i.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},i.prototype.setCalculationInfo=function(e,t){Yt(e)?X(this._calculationInfo,e):this._calculationInfo[e]=t},i.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=$t(this,this._nameDimIdx,t)),r==null&&(r=""),r},i.prototype._getCategory=function(e,t){var r=this._store.get(e,t),a=this._store.getOrdinalMeta(e);return a?a.categories[r]:r},i.prototype.getId=function(e){return ue(this,this.getRawIndex(e))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(e,t){var r=this._store,a=this._dimInfos[e];if(a)return r.get(a.storeDimIndex,t)},i.prototype.getByRawIndex=function(e,t){var r=this._store,a=this._dimInfos[e];if(a)return r.getByRawIndex(a.storeDimIndex,t)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},i.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},i.prototype.getValues=function(e,t){var r=this,a=this._store;return H(e)?a.getValues(ft(e,function(n){return r._getStoreDimIndex(n)}),t):a.getValues(e)},i.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,a=t.length;r<a;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},i.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},i.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},i.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},i.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],a=r&&r[t];return a==null||isNaN(a)?jr:a},i.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},i.prototype.each=function(e,t,r){F(e)&&(r=t,t=e,e=[]);var a=r||this,n=ft(Kt(e),this._getStoreDimIndex,this);this._store.each(n,a?j(t,a):t)},i.prototype.filterSelf=function(e,t,r){F(e)&&(r=t,t=e,e=[]);var a=r||this,n=ft(Kt(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,a?j(t,a):t),this},i.prototype.selectRange=function(e){var t=this,r={},a=Se(e);return L(a,function(n){var o=t._getStoreDimIndex(n);r[o]=e[n]}),this._store=this._store.selectRange(r),this},i.prototype.mapArray=function(e,t,r){F(e)&&(r=t,t=e,e=[]),r=r||this;var a=[];return this.each(e,function(){a.push(t&&t.apply(this,arguments))},r),a},i.prototype.map=function(e,t,r,a){var n=r||a||this,o=ft(Kt(e),this._getStoreDimIndex,this),s=qt(this);return s._store=this._store.map(o,n?j(t,n):t),s},i.prototype.modify=function(e,t,r,a){var n=r||a||this,o=ft(Kt(e),this._getStoreDimIndex,this);this._store.modify(o,n?j(t,n):t)},i.prototype.downSample=function(e,t,r,a){var n=qt(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,r,a),n},i.prototype.minmaxDownSample=function(e,t){var r=qt(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},i.prototype.lttbDownSample=function(e,t){var r=qt(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},i.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},i.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new gt(r,t,t&&t.ecModel)},i.prototype.diff=function(e){var t=this;return new as(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return ue(e,r)},function(r){return ue(t,r)})},i.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},i.prototype.setVisual=function(e,t){this._visual=this._visual||{},Yt(e)?X(this._visual,e):this._visual[e]=t},i.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],a=r&&r[t];return a??this.getVisual(t)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,a=r[e];a||(a=r[e]={});var n=a[t];return n==null&&(n=this.getVisual(t),H(n)?n=n.slice():Yt(n)&&(n=X({},n)),a[t]=n),n},i.prototype.setItemVisual=function(e,t,r){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,Yt(t)?X(a,t):a[t]=r},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(e,t){Yt(e)?X(this._layout,e):this._layout[e]=t},i.prototype.getLayout=function(e){return this._layout[e]},i.prototype.getItemLayout=function(e){return this._itemLayouts[e]},i.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?X(this._itemLayouts[e]||{},t):t},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;wn(r,this.dataType,e,t),this._graphicEls[e]=t},i.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},i.prototype.eachItemGraphicEl=function(e,t){L(this._graphicEls,function(r,a){r&&e&&e.call(t,r,a)})},i.prototype.cloneShallow=function(e){return e||(e=new i(this._schema?this._schema:ft(this.dimensions,this._getDimInfo,this),this.hostModel)),Oe(e,this),e._store=this._store,e},i.prototype.wrapMethod=function(e,t){var r=this[e];F(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=r.apply(this,arguments);return t.apply(this,[a].concat(Cn(arguments)))})},i.internalField=function(){Jr=function(e){var t=e._invertedIndicesMap;L(t,function(r,a){var n=e._dimInfos[a],o=n.ordinalMeta,s=e._store;if(o){r=t[a]=new fs(o.categories.length);for(var l=0;l<r.length;l++)r[l]=jr;for(var l=0;l<s.count();l++)r[s.get(n.storeDimIndex,l)]=l}})},$t=function(e,t,r){return Ie(e._getCategory(t,r),null)},ue=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=$t(e,e._idDimIdx,t)),r==null&&(r=vs+t),r},Kt=function(e){return H(e)||(e=e!=null?[e]:[]),e},qt=function(e){var t=new i(e._schema?e._schema:ft(e.dimensions,e._getDimInfo,e),e.hostModel);return Oe(t,e),t},Oe=function(e,t){L(cs.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,L(ds,function(r){e[r]=Nt(t[r])}),e._calculationInfo=X({},t._calculationInfo)},Ee=function(e,t){var r=e._nameList,a=e._idList,n=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=a[t];if(s==null&&n!=null&&(r[t]=s=$t(e,n,t)),l==null&&o!=null&&(a[t]=l=$t(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),a[t]=l}}}(),i}();function gs(i,e){$i(i)||(i=Ki(i)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||i.dimensionsDefine||[],a=rt(),n=[],o=ys(i,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Ca(o),l=r===i.dimensionsDefine,u=l?wa(i):Sa(r),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(i,o));for(var f=rt(h),c=new Dn(o),v=0;v<c.length;v++)c[v]=-1;function d(A){var C=c[A];if(C<0){var D=r[A],I=K(D)?D:{name:D},M=new me,k=I.name;k!=null&&u.get(k)!=null&&(M.name=M.displayName=k),I.type!=null&&(M.type=I.type),I.displayName!=null&&(M.displayName=I.displayName);var P=n.length;return c[A]=P,M.storeDimIndex=A,n.push(M),M}return n[C]}if(!s)for(var v=0;v<o;v++)d(v);f.each(function(A,C){var D=Ir(A).slice();if(D.length===1&&!G(D[0])&&D[0]<0){f.set(C,!1);return}var I=f.set(C,[]);L(D,function(M,k){var P=G(M)?u.get(M):M;P!=null&&P<o&&(I[k]=P,m(d(P),C,k))})});var p=0;L(t,function(A){var C,D,I,M;if(G(A))C=A,M={};else{M=A,C=M.name;var k=M.ordinalMeta;M.ordinalMeta=null,M=X({},M),M.ordinalMeta=k,D=M.dimsDef,I=M.otherDims,M.name=M.coordDim=M.coordDimIndex=M.dimsDef=M.otherDims=null}var P=f.get(C);if(P!==!1){if(P=Ir(P),!P.length)for(var R=0;R<(D&&D.length||1);R++){for(;p<o&&d(p).coordDim!=null;)p++;p<o&&P.push(p++)}L(P,function(z,E){var O=d(z);if(l&&M.type!=null&&(O.type=M.type),m(q(O,M),C,E),O.name==null&&D){var N=D[E];!K(N)&&(N={name:N}),O.name=O.displayName=N.name,O.defaultTooltip=N.defaultTooltip}I&&q(O.otherDims,I)})}});function m(A,C,D){Yi.get(C)!=null?A.otherDims[C]=D:(A.coordDim=C,A.coordDimIndex=D,a.set(C,!0))}var g=e.generateCoord,y=e.generateCoordCount,_=y!=null;y=g?y||1:0;var x=g||"value";function w(A){A.name==null&&(A.name=A.coordDim)}if(s)L(n,function(A){w(A)}),n.sort(function(A,C){return A.storeDimIndex-C.storeDimIndex});else for(var b=0;b<o;b++){var S=d(b),T=S.coordDim;T==null&&(S.coordDim=_s(x,a,_),S.coordDimIndex=0,(!g||y<=0)&&(S.isExtraCoord=!0),y--),w(S),S.type==null&&(An(i,b)===Tn.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return ms(n),new xa({source:i,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function ms(i){for(var e=rt(),t=0;t<i.length;t++){var r=i[t],a=r.name,n=e.get(a)||0;n>0&&(r.name=a+(n-1)),n++,e.set(a,n)}}function ys(i,e,t,r){var a=Math.max(i.dimensionsDetectedCount||1,e.length,t.length,r||0);return L(e,function(n){var o;K(n)&&(o=n.dimsDef)&&(a=Math.max(a,o.length))}),a}function _s(i,e,t){if(t||e.hasKey(i)){for(var r=0;e.hasKey(i+r);)r++;i+=r}return e.set(i,!0),i}var xs=function(){function i(e){this.coordSysDims=[],this.axisMap=rt(),this.categoryAxisMap=rt(),this.coordSysName=e}return i}();function bs(i){var e=i.get("coordinateSystem"),t=new xs(e),r=Ss[e];if(r)return r(i,t,t.axisMap,t.categoryAxisMap),t}var Ss={cartesian2d:function(i,e,t,r){var a=i.getReferringComponents("xAxis",mt).models[0],n=i.getReferringComponents("yAxis",mt).models[0];e.coordSysDims=["x","y"],t.set("x",a),t.set("y",n),Ot(a)&&(r.set("x",a),e.firstCategoryDimIndex=0),Ot(n)&&(r.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(i,e,t,r){var a=i.getReferringComponents("singleAxis",mt).models[0];e.coordSysDims=["single"],t.set("single",a),Ot(a)&&(r.set("single",a),e.firstCategoryDimIndex=0)},polar:function(i,e,t,r){var a=i.getReferringComponents("polar",mt).models[0],n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),Ot(n)&&(r.set("radius",n),e.firstCategoryDimIndex=0),Ot(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(i,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(i,e,t,r){var a=i.ecModel,n=a.getComponent("parallel",i.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();L(n.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),h=o[l];t.set(h,u),Ot(u)&&(r.set(h,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function Ot(i){return i.get("type")==="category"}function ws(i,e,t){t=t||{};var r=t.byIndex,a=t.stackedCoordDimension,n,o,s;Cs(e)?n=e:(o=e.schema,n=o.dimensions,s=e.store);var l=!!(i&&i.get("stack")),u,h,f,c;if(L(n,function(y,_){G(y)&&(n[_]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!h&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(h=y))}),h&&!r&&!u&&(r=!0),h){f="__\0ecstackresult_"+i.id,c="__\0ecstackedover_"+i.id,u&&(u.createInvertedIndices=!0);var v=h.coordDim,d=h.type,p=0;L(n,function(y){y.coordDim===v&&p++});var m={name:f,coordDim:v,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},g={name:c,coordDim:c,coordDimIndex:p+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(c,d),g.storeDimIndex=s.ensureCalculationDimension(f,d)),o.appendCalculationDimension(m),o.appendCalculationDimension(g)):(n.push(m),n.push(g))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:c,stackResultDimension:f}}function Cs(i){return!ba(i.schema)}function Ht(i,e){return!!e&&e===i.getCalculationInfo("stackedDimension")}function Ds(i,e){return Ht(i,e)?i.getCalculationInfo("stackResultDimension"):e}function As(i,e){var t=i.get("coordinateSystem"),r=Mn.get(t),a;return e&&e.coordSysDims&&(a=V(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var l=s.get("type");o.type=ss(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function Ts(i,e,t){var r,a;return t&&L(i,function(n,o){var s=n.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(i[r].otherDims.itemName=0),r}function Ls(i,e,t){t=t||{};var r=e.getSourceManager(),a,n=!1;i?(n=!0,a=Ki(i)):(a=r.getSource(),n=a.sourceFormat===dr);var o=bs(e),s=As(e,o),l=t.useEncodeDefaulter,u=F(l)?l:l?$(Ln,s,e):null,h={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},f=gs(a,h),c=Ts(f.dimensions,t.createInvertedIndices,o),v=n?null:r.getSharedDataStore(f),d=ws(e,{schema:f,store:v}),p=new ps(f,e);p.setCalculationInfo(d);var m=c!=null&&Ms(a)?function(g,y,_,x){return x===c?_:this.defaultDimValueGetter(g,y,_,x)}:null;return p.hasItemOption=!1,p.initData(n?a:v,null,m),p}function Ms(i){if(i.sourceFormat===dr){var e=Is(i.data||[]);return!H(In(e))}}function Is(i){for(var e=0;e<i.length&&i[e]==null;)e++;return i[e]}var lt=function(){function i(e){this._setting=e||{},this._extent=[1/0,-1/0]}return i.prototype.getSetting=function(e){return this._setting[e]},i.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},i.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(e){this._isBlank=e},i}();Pn(lt);var Ps=0,tr=function(){function i(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Ps}return i.createByAxisModel=function(e){var t=e.option,r=t.data,a=r&&V(r,ks);return new i({categories:a,needCollect:!a,deduplication:t.dedplication!==!1})},i.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},i.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!G(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var a=this._getOrCreateMap();return t=a.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,a.set(e,t)):t=NaN),t},i.prototype._getOrCreateMap=function(){return this._map||(this._map=rt(this.categories))},i}();function ks(i){return K(i)&&i.value!=null?i.value:i+""}function er(i){return i.type==="interval"||i.type==="log"}function Os(i,e,t,r){var a={},n=i[1]-i[0],o=a.interval=qi(n/e);t!=null&&o<t&&(o=a.interval=t),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=Da(o),l=a.niceTickExtent=[Z(Math.ceil(i[0]/o)*o,s),Z(Math.floor(i[1]/o)*o,s)];return Es(l,i),a}function Re(i){var e=Math.pow(10,kn(i)),t=i/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Z(t*e)}function Da(i){return pr(i)+2}function Qr(i,e,t){i[e]=Math.max(Math.min(i[e],t[1]),t[0])}function Es(i,e){!isFinite(i[0])&&(i[0]=e[0]),!isFinite(i[1])&&(i[1]=e[1]),Qr(i,0,e),Qr(i,1,e),i[0]>i[1]&&(i[0]=i[1])}function Ae(i,e){return i>=e[0]&&i<=e[1]}function Te(i,e){return e[1]===e[0]?.5:(i-e[0])/(e[1]-e[0])}function Le(i,e){return i*(e[1]-e[0])+e[0]}var xr=function(i){B(e,i);function e(t){var r=i.call(this,t)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");return a||(a=new tr({})),H(a)&&(a=new tr({categories:V(a,function(n){return K(n)?n.value:n})})),r._ordinalMeta=a,r._extent=r.getSetting("extent")||[0,a.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:G(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),Ae(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),Te(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(Le(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,a=r[0];a<=r[1];)t.push({value:a}),a++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,a=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];a[o]=u,n[u]=o}for(var h=0;o<s;++o){for(;n[h]!=null;)h++;a.push(h),n[h]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),a=this._ordinalMeta.categories[r];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(lt);lt.registerClass(xr);var Ct=Z,Xt=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Ae(t,this._extent)},e.prototype.normalize=function(t){return Te(t,this._extent)},e.prototype.scale=function(t){return Le(t,this._extent)},e.prototype.setExtent=function(t,r){var a=this._extent;isNaN(t)||(a[0]=parseFloat(t)),isNaN(r)||(a[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Da(t)},e.prototype.getTicks=function(t){var r=this._interval,a=this._extent,n=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;a[0]<n[0]&&(t?s.push({value:Ct(n[0]-r,o)}):s.push({value:a[0]}));for(var u=n[0];u<=n[1]&&(s.push({value:u}),u=Ct(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var h=s.length?s[s.length-1].value:n[1];return a[1]>h&&(t?s.push({value:Ct(h+r,o)}):s.push({value:a[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),a=[],n=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,h=[],f=s.value-l.value,c=f/t;u<t-1;){var v=Ct(l.value+(u+1)*c);v>n[0]&&v<n[1]&&h.push(v),u++}a.push(h)}return a},e.prototype.getLabel=function(t,r){if(t==null)return"";var a=r&&r.precision;a==null?a=pr(t.value)||0:a==="auto"&&(a=this._intervalPrecision);var n=Ct(t.value,a,!0);return On(n)},e.prototype.calcNiceTicks=function(t,r,a){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var s=Os(n,t,r,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var a=Math.abs(r[0]);t.fixMax||(r[1]+=a/2),r[0]-=a/2}else r[1]=1;var n=r[1]-r[0];isFinite(n)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=Ct(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=Ct(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(lt);lt.registerClass(Xt);var Aa=typeof Float32Array<"u",Rs=Aa?Float32Array:Array;function ut(i){return H(i)?Aa?new Float32Array(i):i:new Rs(i)}var rr="__ec_stack_";function Ta(i){return i.get("stack")||rr+i.seriesIndex}function br(i){return i.dim+i.index}function Ah(i){var e=[],t=i.axis,r="axis0";if(t.type==="category"){for(var a=t.getBandWidth(),n=0;n<i.count;n++)e.push(q({bandWidth:a,axisKey:r,stackId:rr+n},i));for(var o=Ia(e),s=[],n=0;n<i.count;n++){var l=o[r][rr+n];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function La(i,e){var t=[];return e.eachSeriesByType(i,function(r){Pa(r)&&t.push(r)}),t}function Ns(i){var e={};L(i,function(l){var u=l.coordinateSystem,h=u.getBaseAxis();if(!(h.type!=="time"&&h.type!=="value"))for(var f=l.getData(),c=h.dim+"_"+h.index,v=f.getDimensionIndex(f.mapDimension(h.dim)),d=f.getStore(),p=0,m=d.count();p<m;++p){var g=d.get(v,p);e[c]?e[c].push(g):e[c]=[g]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(a){a.sort(function(l,u){return l-u});for(var n=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(n=n===null?s:Math.min(n,s))}t[r]=n}}return t}function Ma(i){var e=Ns(i),t=[];return L(i,function(r){var a=r.coordinateSystem,n=a.getBaseAxis(),o=n.getExtent(),s;if(n.type==="category")s=n.getBandWidth();else if(n.type==="value"||n.type==="time"){var l=n.dim+"_"+n.index,u=e[l],h=Math.abs(o[1]-o[0]),f=n.scale.getExtent(),c=Math.abs(f[1]-f[0]);s=u?h/c*u:h}else{var v=r.getData();s=Math.abs(o[1]-o[0])/v.count()}var d=Lt(r.get("barWidth"),s),p=Lt(r.get("barMaxWidth"),s),m=Lt(r.get("barMinWidth")||(ka(r)?.5:1),s),g=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:d,barMaxWidth:p,barMinWidth:m,barGap:g,barCategoryGap:y,axisKey:br(n),stackId:Ta(r)})}),Ia(t)}function Ia(i){var e={};L(i,function(r,a){var n=r.axisKey,o=r.bandWidth,s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[n]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=r.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var c=r.barMinWidth;c&&(l[u].minWidth=c);var v=r.barGap;v!=null&&(s.gap=v);var d=r.barCategoryGap;d!=null&&(s.categoryGap=d)});var t={};return L(e,function(r,a){t[a]={};var n=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Se(n).length;s=Math.max(35-l*4,15)+"%"}var u=Lt(s,o),h=Lt(r.gap,1),f=r.remainedWidth,c=r.autoWidthCount,v=(f-u)/(c+(c-1)*h);v=Math.max(v,0),L(n,function(g){var y=g.maxWidth,_=g.minWidth;if(g.width){var x=g.width;y&&(x=Math.min(x,y)),_&&(x=Math.max(x,_)),g.width=x,f-=x+h*x,c--}else{var x=v;y&&y<x&&(x=Math.min(y,f)),_&&_>x&&(x=_),x!==v&&(g.width=x,f-=x+h*x,c--)}}),v=(f-u)/(c+(c-1)*h),v=Math.max(v,0);var d=0,p;L(n,function(g,y){g.width||(g.width=v),p=g,d+=g.width*(1+h)}),p&&(d-=p.width*h);var m=-d/2;L(n,function(g,y){t[a][y]=t[a][y]||{bandWidth:o,offset:m,width:g.width},m+=g.width*(1+h)})}),t}function Bs(i,e,t){if(i&&e){var r=i[br(e)];return r}}function Th(i,e){var t=La(i,e),r=Ma(t);L(t,function(a){var n=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=Ta(a),u=r[br(s)][l],h=u.offset,f=u.width;n.setLayout({bandWidth:u.bandWidth,offset:h,size:f})})}function Lh(i){return{seriesType:i,plan:ji(),reset:function(e){if(Pa(e)){var t=e.getData(),r=e.coordinateSystem,a=r.getBaseAxis(),n=r.getOtherAxis(a),o=t.getDimensionIndex(t.mapDimension(n.dim)),s=t.getDimensionIndex(t.mapDimension(a.dim)),l=e.get("showBackground",!0),u=t.mapDimension(n.dim),h=t.getCalculationInfo("stackResultDimension"),f=Ht(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),c=n.isHorizontal(),v=Gs(a,n),d=ka(e),p=e.get("barMinHeight")||0,m=h&&t.getDimensionIndex(h),g=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(_,x){for(var w=_.count,b=d&&ut(w*3),S=d&&l&&ut(w*3),T=d&&ut(w),A=r.master.getRect(),C=c?A.width:A.height,D,I=x.getStore(),M=0;(D=_.next())!=null;){var k=I.get(f?m:o,D),P=I.get(s,D),R=v,z=void 0;f&&(z=+k-I.get(o,D));var E=void 0,O=void 0,N=void 0,W=void 0;if(c){var it=r.dataToPoint([k,P]);if(f){var U=r.dataToPoint([z,P]);R=U[0]}E=R,O=it[1]+y,N=it[0]-R,W=g,Math.abs(N)<p&&(N=(N<0?-1:1)*p)}else{var it=r.dataToPoint([P,k]);if(f){var U=r.dataToPoint([P,z]);R=U[1]}E=it[0]+y,O=R,N=g,W=it[1]-R,Math.abs(W)<p&&(W=(W<=0?-1:1)*p)}d?(b[M]=E,b[M+1]=O,b[M+2]=c?N:W,S&&(S[M]=c?A.x:E,S[M+1]=c?O:A.y,S[M+2]=C),T[D]=D):x.setItemLayout(D,{x:E,y:O,width:N,height:W}),M+=3}d&&x.setLayout({largePoints:b,largeDataIndices:T,largeBackgroundPoints:S,valueAxisHorizontal:c})}}}}}}function Pa(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function ka(i){return i.pipelineContext&&i.pipelineContext.large}function Gs(i,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var zs=function(i,e,t,r){for(;t<r;){var a=t+r>>>1;i[a][1]<e?t=a+1:r=a}return t},Oa=function(i){B(e,i);function e(t){var r=i.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return Ji(t.value,Pr[En(Qt(this._minLevelUnit))]||Pr.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,a){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return Rn(t,r,a,o,n)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,a=[];if(!t)return a;a.push({value:r[0],level:0});var n=this.getSetting("useUTC"),o=Us(this._minLevelUnit,this._approxInterval,n,r);return a=a.concat(o),a.push({value:r[1],level:0}),a},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=ot,r[1]+=ot),r[1]===-1/0&&r[0]===1/0){var a=new Date;r[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-ot}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,a){t=t||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=he.length,l=Math.min(zs(he,this._approxInterval,0,s),s-1);this._interval=he[l][1],this._minLevelUnit=he[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Wt(t)?t:+Ue(t)},e.prototype.contain=function(t){return Ae(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Te(this.parse(t),this._extent)},e.prototype.scale=function(t){return Le(t,this._extent)},e.type="time",e}(Xt),he=[["second",Qi],["minute",ta],["hour",ge],["quarter-day",ge*6],["half-day",ge*12],["day",ot*1.2],["half-week",ot*3.5],["week",ot*7],["month",ot*31],["quarter",ot*95],["half-year",kr/2],["year",kr]];function Fs(i,e,t,r){var a=Ue(e),n=Ue(t),o=function(d){return Or(a,d,r)===Or(n,d,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},h=function(){return u()&&o("hour")},f=function(){return h()&&o("minute")},c=function(){return f()&&o("second")},v=function(){return c()&&o("millisecond")};switch(i){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return f();case"second":return c();case"millisecond":return v()}}function Hs(i,e){return i/=ot,i>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function Vs(i){var e=30*ot;return i/=e,i>6?6:i>3?3:i>2?2:1}function Ws(i){return i/=ge,i>12?12:i>6?6:i>3.5?4:i>2?2:1}function ti(i,e){return i/=e?ta:Qi,i>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function Xs(i){return qi(i)}function Zs(i,e,t){var r=new Date(i);switch(Qt(e)){case"year":case"month":r[oa(t)](0);case"day":r[na(t)](1);case"hour":r[aa(t)](0);case"minute":r[ia(t)](0);case"second":r[ea(t)](0),r[ra(t)](0)}return r.getTime()}function Us(i,e,t,r){var a=1e4,n=Nn,o=0;function s(C,D,I,M,k,P,R){for(var z=new Date(D),E=D,O=z[M]();E<I&&E<=r[1];)R.push({value:E}),O+=C,z[k](O),E=z.getTime();R.push({value:E,notAdd:!0})}function l(C,D,I){var M=[],k=!D.length;if(!Fs(Qt(C),r[0],r[1],t)){k&&(D=[{value:Zs(new Date(r[0]),C,t)},{value:r[1]}]);for(var P=0;P<D.length-1;P++){var R=D[P].value,z=D[P+1].value;if(R!==z){var E=void 0,O=void 0,N=void 0,W=!1;switch(C){case"year":E=Math.max(1,Math.round(e/ot/365)),O=Xn(t),N=Zn(t);break;case"half-year":case"quarter":case"month":E=Vs(e),O=Wn(t),N=oa(t);break;case"week":case"half-week":case"day":E=Hs(e),O=Vn(t),N=na(t),W=!0;break;case"half-day":case"quarter-day":case"hour":E=Ws(e),O=Hn(t),N=aa(t);break;case"minute":E=ti(e,!0),O=Fn(t),N=ia(t);break;case"second":E=ti(e,!1),O=zn(t),N=ea(t);break;case"millisecond":E=Xs(e),O=Gn(t),N=ra(t);break}s(E,R,z,O,N,W,M),C==="year"&&I.length>1&&P===0&&I.unshift({value:I[0].value-E})}}for(var P=0;P<M.length;P++)I.push(M[P]);return M}}for(var u=[],h=[],f=0,c=0,v=0;v<n.length&&o++<a;++v){var d=Qt(n[v]);if(Bn(n[v])){l(n[v],u[u.length-1]||[],h);var p=n[v+1]?Qt(n[v+1]):null;if(d!==p){if(h.length){c=f,h.sort(function(C,D){return C.value-D.value});for(var m=[],g=0;g<h.length;++g){var y=h[g].value;(g===0||h[g-1].value!==y)&&(m.push(h[g]),y>=r[0]&&y<=r[1]&&f++)}var _=(r[1]-r[0])/e;if(f>_*1.5&&c>_/1.5||(u.push(m),f>_||i===n[v]))break}h=[]}}}for(var x=Bt(V(u,function(C){return Bt(C,function(D){return D.value>=r[0]&&D.value<=r[1]&&!D.notAdd})}),function(C){return C.length>0}),w=[],b=x.length-1,v=0;v<x.length;++v)for(var S=x[v],T=0;T<S.length;++T)w.push({value:S[T].value,level:b-v});w.sort(function(C,D){return C.value-D.value});for(var A=[],v=0;v<w.length;++v)(v===0||w[v].value!==w[v-1].value)&&A.push(w[v]);return A}lt.registerClass(Oa);var ei=lt.prototype,ee=Xt.prototype,Ys=Z,$s=Math.floor,Ks=Math.ceil,fe=Math.pow,nt=Math.log,Sr=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Xt,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,a=this._extent,n=r.getExtent(),o=ee.getTicks.call(this,t);return V(o,function(s){var l=s.value,u=Z(fe(this.base,l));return u=l===a[0]&&this._fixMin?ve(u,n[0]):u,u=l===a[1]&&this._fixMax?ve(u,n[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var a=nt(this.base);t=nt(Math.max(0,t))/a,r=nt(Math.max(0,r))/a,ee.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=ei.getExtent.call(this);r[0]=fe(t,r[0]),r[1]=fe(t,r[1]);var a=this._originalScale,n=a.getExtent();return this._fixMin&&(r[0]=ve(r[0],n[0])),this._fixMax&&(r[1]=ve(r[1],n[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=nt(t[0])/nt(r),t[1]=nt(t[1])/nt(r),ei.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,a=r[1]-r[0];if(!(a===1/0||a<=0)){var n=Un(a),o=t/a*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var s=[Z(Ks(r[0]/n)*n),Z($s(r[1]/n)*n)];this._interval=n,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){ee.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=nt(t)/nt(this.base),Ae(t,this._extent)},e.prototype.normalize=function(t){return t=nt(t)/nt(this.base),Te(t,this._extent)},e.prototype.scale=function(t){return t=Le(t,this._extent),fe(this.base,t)},e.type="log",e}(lt),Ea=Sr.prototype;Ea.getMinorTicks=ee.getMinorTicks;Ea.getLabel=ee.getLabel;function ve(i,e){return Ys(i,pr(e))}lt.registerClass(Sr);var qs=function(){function i(e,t,r){this._prepareParams(e,t,r)}return i.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var n=t.get("min",!0);n==null&&(n=t.get("startValue",!0));var o=this._modelMinRaw=n;F(o)?this._modelMinNum=ce(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=ce(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(F(s)?this._modelMaxNum=ce(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=ce(e,s)),a)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=H(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Er(u[0],1),Er(u[1],1)]}},i.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,a=this._axisDataLen,n=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,h=l!=null;s==null&&(s=e?a?0:NaN:t-n[0]*o),l==null&&(l=e?a?a-1:NaN:r+n[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Ye(s)||Ye(l)||e&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var c=this._determinedMin,v=this._determinedMax;return c!=null&&(s=c,u=!0),v!=null&&(l=v,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:f}},i.prototype.modifyDataMinMax=function(e,t){this[Js[e]]=t},i.prototype.setDeterminedMinMax=function(e,t){var r=js[e];this[r]=t},i.prototype.freeze=function(){this.frozen=!0},i}(),js={min:"_determinedMin",max:"_determinedMax"},Js={min:"_dataMin",max:"_dataMax"};function Qs(i,e,t){var r=i.rawExtentInfo;return r||(r=new qs(i,e,t),i.rawExtentInfo=r,r)}function ce(i,e){return e==null?null:Ye(e)?NaN:i.parse(e)}function Ra(i,e){var t=i.type,r=Qs(i,e,i.getExtent()).calculate();i.setBlank(r.isBlank);var a=r.min,n=r.max,o=e.ecModel;if(o&&t==="time"){var s=La("bar",o),l=!1;if(L(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=Ma(s),h=tl(a,n,e,u);a=h.min,n=h.max}}return{extent:[a,n],fixMin:r.minFixed,fixMax:r.maxFixed}}function tl(i,e,t,r){var a=t.axis.getExtent(),n=Math.abs(a[1]-a[0]),o=Bs(r,t.axis);if(o===void 0)return{min:i,max:e};var s=1/0;L(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;L(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-i,f=1-(s+l)/n,c=h/f-h;return e+=c*(l/u),i-=c*(s/u),{min:i,max:e}}function ri(i,e){var t=e,r=Ra(i,t),a=r.extent,n=t.get("splitNumber");i instanceof Sr&&(i.base=t.get("logBase"));var o=i.type,s=t.get("interval"),l=o==="interval"||o==="time";i.setExtent(a[0],a[1]),i.calcNiceExtent({splitNumber:n,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&i.setInterval&&i.setInterval(s)}function el(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new xr({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new Oa({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(lt.getClass(e)||Xt)}}function rl(i){var e=i.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function Zt(i){var e=i.getLabelModel().get("formatter"),t=i.type==="category"?i.scale.getExtent()[0]:null;return i.scale.type==="time"?function(r){return function(a,n){return i.scale.getFormattedLabel(a,n,r)}}(e):G(e)?function(r){return function(a){var n=i.scale.getLabel(a),o=r.replace("{value}",n??"");return o}}(e):F(e)?function(r){return function(a,n){return t!=null&&(n=a.value-t),r(wr(i,a),n,a.level!=null?{level:a.level}:null)}}(e):function(r){return i.scale.getLabel(r)}}function wr(i,e){return i.type==="category"?i.scale.getLabel(e):e.value}function il(i){var e=i.model,t=i.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,a,n=t.getExtent();t instanceof xr?a=t.count():(r=t.getTicks(),a=r.length);var o=i.getLabelModel(),s=Zt(i),l,u=1;a>40&&(u=Math.ceil(a/40));for(var h=0;h<a;h+=u){var f=r?r[h]:{value:n[0]+h},c=s(f,h),v=o.getTextRect(c),d=al(v,o.get("rotate")||0);l?l.union(d):l=d}return l}}function al(i,e){var t=e*Math.PI/180,r=i.width,a=i.height,n=r*Math.abs(Math.cos(t))+Math.abs(a*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(a*Math.cos(t)),s=new yt(i.x,i.y,n,o);return s}function Cr(i){var e=i.get("interval");return e??"auto"}function Na(i){return i.type==="category"&&Cr(i.getLabelModel())===0}function Ba(i,e){var t={};return L(i.mapDimensionsAll(e),function(r){t[Ds(i,r)]=!0}),Se(t)}function Mh(i,e,t){e&&L(Ba(e,t),function(r){var a=e.getApproximateExtent(r);a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])})}var nl=function(){function i(){}return i.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},i.prototype.getCoordSysModel=function(){},i}(),ii=[],ol={registerPreprocessor:oo,registerProcessor:no,registerPostInit:ao,registerPostUpdate:io,registerUpdateLifecycle:ro,registerAction:eo,registerCoordinateSystem:to,registerLayout:Qn,registerVisual:Jn,registerTransform:jn,registerLoading:qn,registerMap:Kn,registerImpl:$n,PRIORITY:Yn,ComponentModel:bt,ComponentView:It,SeriesModel:$e,ChartView:te,registerComponentModel:function(i){bt.registerClass(i)},registerComponentView:function(i){It.registerClass(i)},registerSeriesModel:function(i){$e.registerClass(i)},registerChartView:function(i){te.registerClass(i)},registerSubTypeDefaulter:function(i,e){bt.registerSubTypeDefaulter(i,e)},registerPainter:function(i,e){so(i,e)}};function Pt(i){if(H(i)){L(i,function(e){Pt(e)});return}xt(ii,i)>=0||(ii.push(i),F(i)&&(i={install:i}),i.install(ol))}var ne=Vt();function Ga(i,e){var t=V(e,function(r){return i.scale.parse(r)});return i.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function sl(i){var e=i.getLabelModel().get("customValues");if(e){var t=Zt(i),r=i.scale.getExtent(),a=Ga(i,e),n=Bt(a,function(o){return o>=r[0]&&o<=r[1]});return{labels:V(n,function(o){var s={value:o};return{formattedLabel:t(s),rawLabel:i.scale.getLabel(s),tickValue:o}})}}return i.type==="category"?ul(i):fl(i)}function ll(i,e){var t=i.getTickModel().get("customValues");if(t){var r=i.scale.getExtent(),a=Ga(i,t);return{ticks:Bt(a,function(n){return n>=r[0]&&n<=r[1]})}}return i.type==="category"?hl(i,e):{ticks:V(i.scale.getTicks(),function(n){return n.value})}}function ul(i){var e=i.getLabelModel(),t=za(i,e);return!e.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function za(i,e){var t=Fa(i,"labels"),r=Cr(e),a=Ha(t,r);if(a)return a;var n,o;return F(r)?n=Xa(i,r):(o=r==="auto"?vl(i):r,n=Wa(i,o)),Va(t,r,{labels:n,labelCategoryInterval:o})}function hl(i,e){var t=Fa(i,"ticks"),r=Cr(e),a=Ha(t,r);if(a)return a;var n,o;if((!e.get("show")||i.scale.isBlank())&&(n=[]),F(r))n=Xa(i,r,!0);else if(r==="auto"){var s=za(i,i.getLabelModel());o=s.labelCategoryInterval,n=V(s.labels,function(l){return l.tickValue})}else o=r,n=Wa(i,o,!0);return Va(t,r,{ticks:n,tickCategoryInterval:o})}function fl(i){var e=i.scale.getTicks(),t=Zt(i);return{labels:V(e,function(r,a){return{level:r.level,formattedLabel:t(r,a),rawLabel:i.scale.getLabel(r),tickValue:r.value}})}}function Fa(i,e){return ne(i)[e]||(ne(i)[e]=[])}function Ha(i,e){for(var t=0;t<i.length;t++)if(i[t].key===e)return i[t].value}function Va(i,e,t){return i.push({key:e,value:t}),t}function vl(i){var e=ne(i).autoInterval;return e??(ne(i).autoInterval=i.calculateCategoryInterval())}function cl(i){var e=dl(i),t=Zt(i),r=(e.axisRotate-e.labelRotate)/180*Math.PI,a=i.scale,n=a.getExtent(),o=a.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=i.dataToCoord(l+1)-i.dataToCoord(l),h=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),c=0,v=0;l<=n[1];l+=s){var d=0,p=0,m=sa(t({value:l}),e.font,"center","top");d=m.width*1.3,p=m.height*1.3,c=Math.max(c,d,7),v=Math.max(v,p,7)}var g=c/h,y=v/f;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),x=ne(i.model),w=i.getExtent(),b=x.lastAutoInterval,S=x.lastTickCount;return b!=null&&S!=null&&Math.abs(b-_)<=1&&Math.abs(S-o)<=1&&b>_&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?_=b:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=w[0],x.axisExtent1=w[1]),_}function dl(i){var e=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Wa(i,e,t){var r=Zt(i),a=i.scale,n=a.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],h=a.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Na(i),c=o.get("showMinLabel")||f,v=o.get("showMaxLabel")||f;c&&u!==n[0]&&p(n[0]);for(var d=u;d<=n[1];d+=l)p(d);v&&d-l!==n[1]&&p(n[1]);function p(m){var g={value:m};s.push(t?m:{formattedLabel:r(g),rawLabel:a.getLabel(g),tickValue:m})}return s}function Xa(i,e,t){var r=i.scale,a=Zt(i),n=[];return L(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&n.push(t?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),n}var ai=[0,1],pl=function(){function i(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return i.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=r&&e<=a},i.prototype.containData=function(e){return this.scale.contain(e)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(e){return lo(e||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},i.prototype.dataToCoord=function(e,t){var r=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&a.type==="ordinal"&&(r=r.slice(),ni(r,a.count())),Rr(e,ai,r,t)},i.prototype.coordToData=function(e,t){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),ni(r,a.count()));var n=Rr(e,r,ai,t);return this.scale.scale(n)},i.prototype.pointToData=function(e,t){},i.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=ll(this,t),a=r.ticks,n=V(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return gl(this,n,o,e.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),a=V(r,function(n){return V(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},i.prototype.getViewLabels=function(){return sl(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/r},i.prototype.calculateCategoryInterval=function(){return cl(this)},i}();function ni(i,e){var t=i[1]-i[0],r=e,a=t/r/2;i[0]+=a,i[1]-=a}function gl(i,e,t,r){var a=e.length;if(!i.onBand||t||!a)return;var n=i.getExtent(),o,s;if(a===1)e[0].coord=n[0],o=e[1]={coord:n[1],tickValue:e[0].tickValue};else{var l=e[a-1].tickValue-e[0].tickValue,u=(e[a-1].coord-e[0].coord)/l;L(e,function(v){v.coord-=u/2});var h=i.scale.getExtent();s=1+h[1]-e[a-1].tickValue,o={coord:e[a-1].coord+u*s,tickValue:h[1]+1},e.push(o)}var f=n[0]>n[1];c(e[0].coord,n[0])&&(r?e[0].coord=n[0]:e.shift()),r&&c(n[0],e[0].coord)&&e.unshift({coord:n[0]}),c(n[1],o.coord)&&(r?o.coord=n[1]:e.pop()),r&&c(o.coord,n[1])&&e.push({coord:n[1]});function c(v,d){return v=Z(v),d=Z(d),f?v>d:v<d}}function ml(i){for(var e=[],t=0;t<i.length;t++){var r=i[t];if(!r.defaultAttr.ignore){var a=r.label,n=a.getComputedTransform(),o=a.getBoundingRect(),s=!n||n[1]<1e-5&&n[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(n),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new Ke(o,n):null;e.push({label:a,labelLine:r.labelLine,rect:u,localRect:o,obb:h,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:n})}}return e}function Za(i,e,t,r,a,n){var o=i.length;if(o<2)return;i.sort(function(b,S){return b.rect[e]-S.rect[e]});for(var s=0,l,u=!1,h=0;h<o;h++){var f=i[h],c=f.rect;l=c[e]-s,l<0&&(c[e]-=l,f.label[e]-=l,u=!0),s=c[e]+c[t]}var v=i[0],d=i[o-1],p,m;g(),p<0&&x(-p,.8),m<0&&x(m,.8),g(),y(p,m,1),y(m,p,-1),g(),p<0&&w(-p),m<0&&w(m);function g(){p=v.rect[e]-r,m=a-d.rect[e]-d.rect[t]}function y(b,S,T){if(b<0){var A=Math.min(S,-b);if(A>0){_(A*T,0,o);var C=A+b;C<0&&x(-C*T,1)}else x(-b*T,1)}}function _(b,S,T){b!==0&&(u=!0);for(var A=S;A<T;A++){var C=i[A],D=C.rect;D[e]+=b,C.label[e]+=b}}function x(b,S){for(var T=[],A=0,C=1;C<o;C++){var D=i[C-1].rect,I=Math.max(i[C].rect[e]-D[e]-D[t],0);T.push(I),A+=I}if(A){var M=Math.min(Math.abs(b)/A,S);if(b>0)for(var C=0;C<o-1;C++){var k=T[C]*M;_(k,0,C+1)}else for(var C=o-1;C>0;C--){var k=T[C-1]*M;_(-k,C,o)}}}function w(b){var S=b<0?-1:1;b=Math.abs(b);for(var T=Math.ceil(b/(o-1)),A=0;A<o-1;A++)if(S>0?_(T,0,A+1):_(-T,o-A-1,o),b-=T,b<=0)return}return u}function Ih(i,e,t,r){return Za(i,"x","width",e,t)}function Ph(i,e,t,r){return Za(i,"y","height",e,t)}function yl(i){var e=[];i.sort(function(p,m){return m.priority-p.priority});var t=new yt(0,0,0,0);function r(p){if(!p.ignore){var m=p.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}p.ignore=!0}for(var a=0;a<i.length;a++){var n=i[a],o=n.axisAligned,s=n.localRect,l=n.transform,u=n.label,h=n.labelLine;t.copy(n.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var f=n.obb,c=!1,v=0;v<e.length;v++){var d=e[v];if(t.intersect(d.rect)){if(o&&d.axisAligned){c=!0;break}if(d.obb||(d.obb=new Ke(d.localRect,d.transform)),f||(f=new Ke(s,l)),f.intersect(d.obb)){c=!0;break}}}c?(r(u),h&&r(h)):(u.attr("ignore",n.defaultAttr.ignore),h&&h.attr("ignore",n.defaultAttr.labelGuideIgnore),e.push(n))}}function oi(i,e,t){var r=ho.createCanvas(),a=e.getWidth(),n=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=n+"px",r.setAttribute("data-zr-dom-id",i)),r.width=a*t,r.height=n*t,r}var Ne=function(i){B(e,i);function e(t,r,a){var n=i.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;a=a||ua,typeof t=="string"?o=oi(t,r,a):K(t)&&(o=t,t=o.id),n.id=t,n.dom=o;var s=o.style;return s&&(la(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=r,n.dpr=a,n}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=oi("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,a,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new yt(0,0,0,0);function h(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new yt(0,0,0,0);_.copy(y),o.push(_)}else{for(var x=!1,w=1/0,b=0,S=0;S<o.length;++S){var T=o[S];if(T.intersect(y)){var A=new yt(0,0,0,0);A.copy(T),A.union(y),o[S]=A,x=!0;break}else if(l){u.copy(y),u.union(T);var C=y.width*y.height,D=T.width*T.height,I=u.width*u.height,M=I-C-D;M<w&&(w=M,b=S)}}if(l&&(o[b].union(y),x=!0),!x){var _=new yt(0,0,0,0);_.copy(y),o.push(_)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var c=t[f];if(c){var v=c.shouldBePainted(a,n,!0,!0),d=c.__isRendered&&(c.__dirty&qe||!v)?c.getPrevPaintRect():null;d&&h(d);var p=v&&(c.__dirty&qe||!c.__isRendered)?c.getPaintRect():null;p&&h(p)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var c=r[f],v=c&&c.shouldBePainted(a,n,!0,!0);if(c&&(!v||!c.__zr)&&c.__isRendered){var d=c.getPrevPaintRect();d&&h(d)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var g=f+1;g<o.length;)o[f].intersect(o[g])?(m=!0,o[f].union(o[g]),o.splice(g,1)):g++;f++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var a=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),n.width=t*a,n.height=r*a,s&&(s.width=t*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(t,r,a){var n=this.dom,o=this.ctx,s=n.width,l=n.height;r=r||this.clearColor;var u=this.motionBlur&&!t,h=this.lastFrameAlpha,f=this.dpr,c=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/f,l/f));var v=this.domBack;function d(p,m,g,y){if(o.clearRect(p,m,g,y),r&&r!=="transparent"){var _=void 0;if(fo(r)){var x=r.global||r.__width===g&&r.__height===y;_=x&&r.__canvasGradient||vo(o,r,{x:0,y:0,width:g,height:y}),r.__canvasGradient=_,r.__width=g,r.__height=y}else co(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,_=po(o,r,{dirty:function(){c.setUnpainted(),c.painter.refresh()}}));o.save(),o.fillStyle=_||r,o.fillRect(p,m,g,y),o.restore()}u&&(o.save(),o.globalAlpha=h,o.drawImage(v,p,m,g,y),o.restore())}!a||u?d(0,0,s,l):a.length&&L(a,function(p){d(p.x*f,p.y*f,p.width*f,p.height*f)})},e}(uo),si=1e5,Dt=314159,de=.01,_l=.001;function xl(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function bl(i,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+i+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Sl=function(){function i(e,t,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=X({},r||{}),this.dpr=r.devicePixelRatio||ua,this._singleCanvas=n,this.root=e;var o=e.style;o&&(la(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var h=e,f=h.width,c=h.height;r.width!=null&&(f=r.width),r.height!=null&&(c=r.height),this.dpr=r.devicePixelRatio||1,h.width=f*this.dpr,h.height=c*this.dpr,this._width=f,this._height=c;var v=new Ne(h,this,this.dpr);v.__builtin__=!0,v.initContext(),l[Dt]=v,v.zlevel=Dt,s.push(Dt),this._domRoot=e}else{this._width=le(e,0,r),this._height=le(e,1,r);var u=this._domRoot=bl(this._width,this._height);e.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var n=0;n<a.length;n++){var o=a[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(si)),n||(n=r.ctx,n.save()),se(n,s,a,o===t-1))}n&&n.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(si)},i.prototype.paintOne=function(e,t){go(e,t)},i.prototype._paintList=function(e,t,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,r),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;mo(function(){l._paintList(e,t,r,a)})}}},i.prototype._compositeManually=function(){var e=this.getLayer(Dt).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},i.prototype._doPaintList=function(e,t,r){for(var a=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&n.push(u)}for(var h=!0,f=!1,c=function(p){var m=n[p],g=m.ctx,y=o&&m.createRepaintRects(e,t,v._width,v._height),_=r?m.__startIndex:m.__drawIndex,x=!r&&m.incremental&&Date.now,w=x&&Date.now(),b=m.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,b,y);else if(_===m.__startIndex){var S=e[_];(!S.incremental||!S.notClear||r)&&m.clear(!1,b,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var T,A=function(M){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(T=_;T<m.__endIndex;T++){var P=e[T];if(P.__inHover&&(f=!0),a._doPaintEl(P,m,o,M,k,T===m.__endIndex-1),x){var R=Date.now()-w;if(R>15)break}}k.prevElClipPaths&&g.restore()};if(y)if(y.length===0)T=m.__endIndex;else for(var C=v.dpr,D=0;D<y.length;++D){var I=y[D];g.save(),g.beginPath(),g.rect(I.x*C,I.y*C,I.width*C,I.height*C),g.clip(),A(I),g.restore()}else g.save(),A(),g.restore();m.__drawIndex=T,m.__drawIndex<m.__endIndex&&(h=!1)},v=this,d=0;d<n.length;d++)c(d);return J.wxa&&L(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:h,needsRefreshHover:f}},i.prototype._doPaintEl=function(e,t,r,a,n,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(se(s,e,n,o),e.setPrevPaintRect(l))}else se(s,e,n,o)},i.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Dt);var r=this._layers[e];return r||(r=new Ne("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?et(r,this._layerConfig[e],!0):this._layerConfig[e-de]&&et(r,this._layerConfig[e-de],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},i.prototype.insertLayer=function(e,t){var r=this._layers,a=this._zlevelList,n=a.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&xl(t)){if(n>0&&e>a[0]){for(l=0;l<n-1&&!(a[l]<e&&a[l+1]>e);l++);s=r[a[l]]}if(a.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},i.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a];e.call(t,this._layers[n],n)}},i.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},i.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,c){f.__dirty=f.__used=!1});function t(f){n&&(n.__endIndex!==f&&(n.__dirty=!0),n.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<e.length;l++){var a=e[l],u=a.zlevel,h=void 0;s!==u&&(s=u,o=0),a.incremental?(h=this.getLayer(u+_l,this._needsManuallyCompositing),h.incremental=!0,o=1):h=this.getLayer(u+(o>0?de:0),this._needsManuallyCompositing),h.__builtin__||yo("ZLevel "+u+" has been used by unkown layer "+h.id),h!==n&&(h.__used=!0,h.__startIndex!==l&&(h.__dirty=!0),h.__startIndex=l,h.incremental?h.__drawIndex=-1:h.__drawIndex=l,t(l),n=h),a.__dirty&qe&&!a.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,c){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(e){e.clear()},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e,L(this._layers,function(t){t.setUnpainted()})},i.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?et(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var n=this._zlevelList[a];if(n===e||n===e+de){var o=this._layers[n];et(o,r[e],!0)}}}},i.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(xt(r,e),1))},i.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,n=this.root;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=le(n,0,a),t=le(n,1,a),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Dt).resize(e,t)}return this},i.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Dt].dom;var t=new Ne("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,n=t.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,a,n):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var h=s[l];se(r,h,o,l===u-1)}return t.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}();function kh(i){i.registerPainter("canvas",Sl)}var wl=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Ls(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new st,a=re("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(a),a.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=t.itemHeight*.8,u=re(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}($e);function Ua(i,e){var t=i.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var a=Nr(i,e,t[0]);return a!=null?a+"":null}else if(r){for(var n=[],o=0;o<t.length;o++)n.push(Nr(i,e,t[o]));return n.join(" ")}}function Cl(i,e){var t=i.mapDimensionsAll("defaultedLabel");if(!H(e))return e+"";for(var r=[],a=0;a<t.length;a++){var n=i.getDimensionIndex(t[a]);n>=0&&r.push(e[n])}return r.join(" ")}var Dr=function(i){B(e,i);function e(t,r,a,n){var o=i.call(this)||this;return o.updateData(t,r,a,n),o}return e.prototype._createSymbol=function(t,r,a,n,o){this.removeAll();var s=re(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=Dl,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){_o(this.childAt(0))},e.prototype.downplay=function(){xo(this.childAt(0))},e.prototype.setZ=function(t,r){var a=this.childAt(0);a.zlevel=t,a.z=r},e.prototype.setDraggable=function(t,r){var a=this.childAt(0);a.draggable=t,a.cursor=!r&&t?"move":a.cursor},e.prototype.updateData=function(t,r,a,n){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=o!==this._symbolType,h=n&&n.disableAnimation;if(u){var f=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,f)}else{var c=this.childAt(0);c.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};h?c.attr(v):Gt(c,v,s,r),bo(c)}if(this._updateCommon(t,r,l,a,n),u){var c=this.childAt(0);if(!h){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,we(c,v,s,r)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,a,n,o){var s=this.childAt(0),l=t.hostModel,u,h,f,c,v,d,p,m,g;if(n&&(u=n.emphasisItemStyle,h=n.blurItemStyle,f=n.selectItemStyle,c=n.focus,v=n.blurScope,p=n.labelStatesModels,m=n.hoverScale,g=n.cursorStyle,d=n.emphasisDisabled),!n||t.hasItemOption){var y=n&&n.itemModel?n.itemModel:t.getItemModel(r),_=y.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),h=y.getModel(["blur","itemStyle"]).getItemStyle(),c=_.get("focus"),v=_.get("blurScope"),d=_.get("disabled"),p=gr(y),m=_.getShallow("scale"),g=y.getShallow("cursor")}var x=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var w=ha(t.getItemVisual(r,"symbolOffset"),a);w&&(s.x=w[0],s.y=w[1]),g&&s.attr("cursor",g);var b=t.getItemVisual(r,"style"),S=b.fill;if(s instanceof So){var T=s.style;s.useStyle(X({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},b))}else s.__isEmptyBrush?s.useStyle(X({},b)):s.useStyle(b),s.style.decal=null,s.setColor(S,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var A=t.getItemVisual(r,"liftZ"),C=this._z2;A!=null?C==null&&(this._z2=s.z2,s.z2+=A):C!=null&&(s.z2=C,this._z2=null);var D=o&&o.useNameLabel;mr(s,p,{labelFetcher:l,labelDataIndex:r,defaultText:I,inheritColor:S,defaultOpacity:b.opacity});function I(P){return D?t.getName(P):Ua(t,P)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var M=s.ensureState("emphasis");M.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=h;var k=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;M.scaleX=this._sizeX*k,M.scaleY=this._sizeY*k,this.setSymbolScale(1),je(this,c,v,d)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,a){var n=this.childAt(0),o=Y(this).dataIndex,s=a&&a.animation;if(this.silent=n.silent=!0,a&&a.fadeLabel){var l=n.getTextContent();l&&Br(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Br(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return wo(t.getItemVisual(r,"symbolSize"))},e}(st);function Dl(i,e){this.parent.drift(i,e)}function Be(i,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&i.getItemVisual(t,"symbol")!=="none"}function li(i){return i!=null&&!K(i)&&(i={isIgnore:i}),i||{}}function ui(i){var e=i.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:gr(e),cursorStyle:e.get("cursor")}}var Al=function(){function i(e){this.group=new st,this._SymbolCtor=e||Dr}return i.prototype.updateData=function(e,t){this._progressiveEls=null,t=li(t);var r=this.group,a=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=ui(e),u={disableAnimation:s},h=t.getSymbolPoint||function(f){return e.getItemLayout(f)};n||r.removeAll(),e.diff(n).add(function(f){var c=h(f);if(Be(e,c,f,t)){var v=new o(e,f,l,u);v.setPosition(c),e.setItemGraphicEl(f,v),r.add(v)}}).update(function(f,c){var v=n.getItemGraphicEl(c),d=h(f);if(!Be(e,d,f,t)){r.remove(v);return}var p=e.getItemVisual(f,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==p)r.remove(v),v=new o(e,f,l,u),v.setPosition(d);else{v.updateData(e,f,l,u);var g={x:d[0],y:d[1]};s?v.attr(g):Gt(v,g,a)}r.add(v),e.setItemGraphicEl(f,v)}).remove(function(f){var c=n.getItemGraphicEl(f);c&&c.fadeOut(function(){r.remove(c)},a)}).execute(),this._getSymbolPoint=h,this._data=e},i.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,a){var n=e._getSymbolPoint(a);r.setPosition(n),r.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ui(e),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=li(r);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(Be(t,o,n,r)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(e){Co(this._progressiveEls||this.group,e)},i.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(a){a.fadeOut(function(){t.remove(a)},r.hostModel)}):t.removeAll()},i}();function Ya(i,e,t){var r=i.getBaseAxis(),a=i.getOtherAxis(r),n=Tl(a,t),o=r.dim,s=a.dim,l=e.mapDimension(s),u=e.mapDimension(o),h=s==="x"||s==="radius"?1:0,f=V(i.dimensions,function(d){return e.mapDimension(d)}),c=!1,v=e.getCalculationInfo("stackResultDimension");return Ht(e,f[0])&&(c=!0,f[0]=v),Ht(e,f[1])&&(c=!0,f[1]=v),{dataDimsForPoint:f,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!c,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Tl(i,e){var t=0,r=i.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:Wt(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function $a(i,e,t,r){var a=NaN;i.stacked&&(a=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(a)&&(a=i.valueStart);var n=i.baseDataOffset,o=[];return o[n]=t.get(i.baseDim,r),o[1-n]=a,e.dataToPoint(o)}function Ll(i,e){var t=[];return e.diff(i).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,a){t.push({cmd:"=",idx:a,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function Ml(i,e,t,r,a,n,o,s){for(var l=Ll(i,e),u=[],h=[],f=[],c=[],v=[],d=[],p=[],m=Ya(a,e,o),g=i.getLayout("points")||[],y=e.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],w=!0,b=void 0,S=void 0;switch(x.cmd){case"=":b=x.idx*2,S=x.idx1*2;var T=g[b],A=g[b+1],C=y[S],D=y[S+1];(isNaN(T)||isNaN(A))&&(T=C,A=D),u.push(T,A),h.push(C,D),f.push(t[b],t[b+1]),c.push(r[S],r[S+1]),p.push(e.getRawIndex(x.idx1));break;case"+":var I=x.idx,M=m.dataDimsForPoint,k=a.dataToPoint([e.get(M[0],I),e.get(M[1],I)]);S=I*2,u.push(k[0],k[1]),h.push(y[S],y[S+1]);var P=$a(m,a,e,I);f.push(P[0],P[1]),c.push(r[S],r[S+1]),p.push(e.getRawIndex(I));break;case"-":w=!1}w&&(v.push(x),d.push(d.length))}d.sort(function(Q,Me){return p[Q]-p[Me]});for(var R=u.length,z=ut(R),E=ut(R),O=ut(R),N=ut(R),W=[],_=0;_<d.length;_++){var it=d[_],U=_*2,at=it*2;z[U]=u[at],z[U+1]=u[at+1],E[U]=h[at],E[U+1]=h[at+1],O[U]=f[at],O[U+1]=f[at+1],N[U]=c[at],N[U+1]=c[at+1],W[_]=v[it]}return{current:z,next:E,stackedOnCurrent:O,stackedOnNext:N,status:W}}var vt=Math.min,ct=Math.max;function Mt(i,e){return isNaN(i)||isNaN(e)}function ir(i,e,t,r,a,n,o,s,l){for(var u,h,f,c,v,d,p=t,m=0;m<r;m++){var g=e[p*2],y=e[p*2+1];if(p>=a||p<0)break;if(Mt(g,y)){if(l){p+=n;continue}break}if(p===t)i[n>0?"moveTo":"lineTo"](g,y),f=g,c=y;else{var _=g-u,x=y-h;if(_*_+x*x<.5){p+=n;continue}if(o>0){for(var w=p+n,b=e[w*2],S=e[w*2+1];b===g&&S===y&&m<r;)m++,w+=n,p+=n,b=e[w*2],S=e[w*2+1],g=e[p*2],y=e[p*2+1],_=g-u,x=y-h;var T=m+1;if(l)for(;Mt(b,S)&&T<r;)T++,w+=n,b=e[w*2],S=e[w*2+1];var A=.5,C=0,D=0,I=void 0,M=void 0;if(T>=r||Mt(b,S))v=g,d=y;else{C=b-u,D=S-h;var k=g-u,P=b-g,R=y-h,z=S-y,E=void 0,O=void 0;if(s==="x"){E=Math.abs(k),O=Math.abs(P);var N=C>0?1:-1;v=g-N*E*o,d=y,I=g+N*O*o,M=y}else if(s==="y"){E=Math.abs(R),O=Math.abs(z);var W=D>0?1:-1;v=g,d=y-W*E*o,I=g,M=y+W*O*o}else E=Math.sqrt(k*k+R*R),O=Math.sqrt(P*P+z*z),A=O/(O+E),v=g-C*o*(1-A),d=y-D*o*(1-A),I=g+C*o*A,M=y+D*o*A,I=vt(I,ct(b,g)),M=vt(M,ct(S,y)),I=ct(I,vt(b,g)),M=ct(M,vt(S,y)),C=I-g,D=M-y,v=g-C*E/O,d=y-D*E/O,v=vt(v,ct(u,g)),d=vt(d,ct(h,y)),v=ct(v,vt(u,g)),d=ct(d,vt(h,y)),C=g-v,D=y-d,I=g+C*O/E,M=y+D*O/E}i.bezierCurveTo(f,c,v,d,g,y),f=I,c=M}else i.lineTo(g,y)}u=g,h=y,p+=n}return m}var Ka=function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i}(),Il=function(i){B(e,i);function e(t){var r=i.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ka},e.prototype.buildPath=function(t,r){var a=r.points,n=0,o=a.length/2;if(r.connectNulls){for(;o>0&&Mt(a[o*2-2],a[o*2-1]);o--);for(;n<o&&Mt(a[n*2],a[n*2+1]);n++);}for(;n<o;)n+=ir(t,a,n,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,n=a.data,o=Do.CMD,s,l,u=r==="x",h=[],f=0;f<n.length;){var c=n[f++],v=void 0,d=void 0,p=void 0,m=void 0,g=void 0,y=void 0,_=void 0;switch(c){case o.M:s=n[f++],l=n[f++];break;case o.L:if(v=n[f++],d=n[f++],_=u?(t-s)/(v-s):(t-l)/(d-l),_<=1&&_>=0){var x=u?(d-l)*_+l:(v-s)*_+s;return u?[t,x]:[x,t]}s=v,l=d;break;case o.C:v=n[f++],d=n[f++],p=n[f++],m=n[f++],g=n[f++],y=n[f++];var w=u?Gr(s,v,p,g,t,h):Gr(l,d,m,y,t,h);if(w>0)for(var b=0;b<w;b++){var S=h[b];if(S<=1&&S>=0){var x=u?zr(l,d,m,y,S):zr(s,v,p,g,S);return u?[t,x]:[x,t]}}s=g,l=y;break}}},e}(fa),Pl=function(i){B(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Ka),kl=function(i){B(e,i);function e(t){var r=i.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new Pl},e.prototype.buildPath=function(t,r){var a=r.points,n=r.stackedOnPoints,o=0,s=a.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&Mt(a[s*2-2],a[s*2-1]);s--);for(;o<s&&Mt(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=ir(t,a,o,s,s,1,r.smooth,l,r.connectNulls);ir(t,n,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e}(fa);function qa(i,e,t,r,a){var n=i.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=t.get(["lineStyle","width"])||0;o-=h/2,s-=h/2,l+=h,u+=h,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new kt({shape:{x:o,y:s,width:l,height:u}});if(e){var c=i.getBaseAxis(),v=c.isHorizontal(),d=c.inverse;v?(d&&(f.shape.x+=l),f.shape.width=0):(d||(f.shape.y+=u),f.shape.height=0);var p=F(a)?function(m){a(m,f)}:null;we(f,{shape:{width:l,height:u,x:o,y:s}},t,null,r,p)}return f}function ja(i,e,t){var r=i.getArea(),a=Z(r.r0,1),n=Z(r.r,1),o=new Ao({shape:{cx:Z(i.cx,1),cy:Z(i.cy,1),r0:a,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,we(o,{shape:{endAngle:r.endAngle,r:n}},t)}return o}function Oh(i,e,t,r,a){if(i){if(i.type==="polar")return ja(i,e,t);if(i.type==="cartesian2d")return qa(i,e,t,r,a)}else return null;return null}function Ol(i,e){return i.type===e}function hi(i,e){if(i.length===e.length){for(var t=0;t<i.length;t++)if(i[t]!==e[t])return;return!0}}function fi(i){for(var e=1/0,t=1/0,r=-1/0,a=-1/0,n=0;n<i.length;){var o=i[n++],s=i[n++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),a=Math.max(s,a))}return[[e,t],[r,a]]}function vi(i,e){var t=fi(i),r=t[0],a=t[1],n=fi(e),o=n[0],s=n[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function ci(i){return Wt(i)?i:i?.5:0}function El(i,e,t){if(!t.valueDim)return[];for(var r=e.count(),a=ut(r*2),n=0;n<r;n++){var o=$a(t,i,e,n);a[n*2]=o[0],a[n*2+1]=o[1]}return a}function dt(i,e,t,r,a){var n=t.getBaseAxis(),o=n.dim==="x"||n.dim==="radius"?0:1,s=[],l=0,u=[],h=[],f=[],c=[];if(a){for(l=0;l<i.length;l+=2){var v=e||i;!isNaN(v[l])&&!isNaN(v[l+1])&&c.push(i[l],i[l+1])}i=c}for(l=0;l<i.length-2;l+=2)switch(f[0]=i[l+2],f[1]=i[l+3],h[0]=i[l],h[1]=i[l+1],s.push(h[0],h[1]),r){case"end":u[o]=f[o],u[1-o]=h[1-o],s.push(u[0],u[1]);break;case"middle":var d=(h[o]+f[o])/2,p=[];u[o]=p[o]=d,u[1-o]=h[1-o],p[1-o]=f[1-o],s.push(u[0],u[1]),s.push(p[0],p[1]);break;default:u[o]=h[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(i[l++],i[l++]),s}function Rl(i,e){var t=[],r=i.length,a,n;function o(h,f,c){var v=h.coord,d=(c-v)/(f.coord-v),p=Io(d,[h.color,f.color]);return{coord:c,color:p}}for(var s=0;s<r;s++){var l=i[s],u=l.coord;if(u<0)a=l;else if(u>e){n?t.push(o(n,l,e)):a&&t.push(o(a,l,0),o(a,l,e));break}else a&&(t.push(o(a,l,0)),a=null),t.push(l),n=l}return t}function Nl(i,e,t){var r=i.getVisual("visualMeta");if(!(!r||!r.length||!i.count())&&e.type==="cartesian2d"){for(var a,n,o=r.length-1;o>=0;o--){var s=i.getDimensionInfo(r[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){n=r[o];break}}if(n){var l=e.getAxis(a),u=V(n.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),h=u.length,f=n.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),f.reverse());var c=Rl(u,a==="x"?t.getWidth():t.getHeight()),v=c.length;if(!v&&h)return u[0].coord<0?f[1]?f[1]:u[h-1].color:f[0]?f[0]:u[0].color;var d=10,p=c[0].coord-d,m=c[v-1].coord+d,g=m-p;if(g<.001)return"transparent";L(c,function(_){_.offset=(_.coord-p)/g}),c.push({offset:v?c[v-1].offset:.5,color:f[1]||"transparent"}),c.unshift({offset:v?c[0].offset:.5,color:f[0]||"transparent"});var y=new Mo(0,0,0,0,c,!0);return y[a]=p,y[a+"2"]=m,y}}}function Bl(i,e,t){var r=i.get("showAllSymbol"),a=r==="auto";if(!(r&&!a)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(a&&Gl(n,e))){var o=e.mapDimension(n.dim),s={};return L(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function Gl(i,e){var t=i.getExtent(),r=Math.abs(t[1]-t[0])/i.scale.count();isNaN(r)&&(r=0);for(var a=e.count(),n=Math.max(1,Math.round(a/5)),o=0;o<a;o+=n)if(Dr.getSymbolSize(e,o)[i.isHorizontal()?1:0]*1.5>r)return!1;return!0}function zl(i,e){return isNaN(i)||isNaN(e)}function Fl(i){for(var e=i.length/2;e>0&&zl(i[e*2-2],i[e*2-1]);e--);return e-1}function di(i,e){return[i[e*2],i[e*2+1]]}function Hl(i,e,t){for(var r=i.length/2,a=t==="x"?0:1,n,o,s=0,l=-1,u=0;u<r;u++)if(o=i[u*2+a],!(isNaN(o)||isNaN(i[u*2+1-a]))){if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u,n=o}return{range:[s,l],t:(e-n)/(o-n)}}function Ja(i){if(i.get(["endLabel","show"]))return!0;for(var e=0;e<Vr.length;e++)if(i.get([Vr[e],"endLabel","show"]))return!0;return!1}function Ge(i,e,t,r){if(Ol(e,"cartesian2d")){var a=r.getModel("endLabel"),n=a.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=Ja(r)?function(v,d){i._endLabelOnDuring(v,d,o,s,n,a,e)}:null,u=e.getBaseAxis().isHorizontal(),h=qa(e,t,r,function(){var v=i._endLabel;v&&t&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=h.shape,c=Math.max(f.width,f.height);u?(f.y-=c,f.height+=c*2):(f.x-=c,f.width+=c*2)}return l&&l(1,h),h}else return ja(e,t,r)}function Vl(i,e){var t=e.getBaseAxis(),r=t.isHorizontal(),a=t.inverse,n=r?a?"right":"left":"center",o=r?"middle":a?"top":"bottom";return{normal:{align:i.get("align")||n,verticalAlign:i.get("verticalAlign")||o}}}var Wl=function(i){B(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=new st,r=new Al;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t,this._changePolyState=j(this._changePolyState,this)},e.prototype.render=function(t,r,a){var n=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),h=s.getLayout("points")||[],f=n.type==="polar",c=this._coordSys,v=this._symbolDraw,d=this._polyline,p=this._polygon,m=this._lineGroup,g=!r.ssr&&t.get("animation"),y=!u.isEmpty(),_=u.get("origin"),x=Ya(n,s,_),w=y&&El(n,s,x),b=t.get("showSymbol"),S=t.get("connectNulls"),T=b&&!f&&Bl(t,s,n),A=this._data;A&&A.eachItemGraphicEl(function(Q,Me){Q.__temp&&(o.remove(Q),A.setItemGraphicEl(Me,null))}),b||v.remove(),o.add(m);var C=f?!1:t.get("step"),D;n&&n.getArea&&t.get("clip",!0)&&(D=n.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var I=Nl(s,n,a)||s.getVisual("style")[s.getVisual("drawType")];if(!(d&&c.type===n.type&&C===this._step))b&&v.updateData(s,{isIgnore:T,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Q){return[h[Q*2],h[Q*2+1]]}}),g&&this._initSymbolLabelAnimation(s,n,D),C&&(w&&(w=dt(w,h,n,C,S)),h=dt(h,null,n,C,S)),d=this._newPolyline(h),y?p=this._newPolygon(h,w):p&&(m.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(t,n,zt(I)),m.setClipPath(Ge(this,n,!0,t));else{y&&!p?p=this._newPolygon(h,w):p&&!y&&(m.remove(p),p=this._polygon=null),f||this._initOrUpdateEndLabel(t,n,zt(I));var M=m.getClipPath();if(M){var k=Ge(this,n,!1,t);we(M,{shape:k.shape},t)}else m.setClipPath(Ge(this,n,!0,t));b&&v.updateData(s,{isIgnore:T,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Q){return[h[Q*2],h[Q*2+1]]}}),(!hi(this._stackedOnPoints,w)||!hi(this._points,h))&&(g?this._doUpdateAnimation(s,w,n,a,C,_,S):(C&&(w&&(w=dt(w,h,n,C,S)),h=dt(h,null,n,C,S)),d.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:w})))}var P=t.getModel("emphasis"),R=P.get("focus"),z=P.get("blurScope"),E=P.get("disabled");if(d.useStyle(q(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),Fr(d,t,"lineStyle"),d.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var O=d.getState("emphasis").style;O.lineWidth=+d.style.lineWidth+1}Y(d).seriesIndex=t.seriesIndex,je(d,R,z,E);var N=ci(t.get("smooth")),W=t.get("smoothMonotone");if(d.setShape({smooth:N,smoothMonotone:W,connectNulls:S}),p){var it=s.getCalculationInfo("stackedOnSeries"),U=0;p.useStyle(q(u.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),it&&(U=ci(it.get("smooth"))),p.setShape({smooth:N,stackedOnSmooth:U,smoothMonotone:W,connectNulls:S}),Fr(p,t,"areaStyle"),Y(p).seriesIndex=t.seriesIndex,je(p,R,z,E)}var at=this._changePolyState;s.eachItemGraphicEl(function(Q){Q&&(Q.onHoverStateChange=at)}),this._polyline.onHoverStateChange=at,this._data=s,this._coordSys=n,this._stackedOnPoints=w,this._points=h,this._step=C,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,d),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,r){Y(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,a,n){var o=t.getData(),s=Je(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var h=l[s*2],f=l[s*2+1];if(isNaN(h)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,f))return;var c=t.get("zlevel")||0,v=t.get("z")||0;u=new Dr(o,s),u.x=h,u.y=f,u.setZ(c,v);var d=u.getSymbolPath().getTextContent();d&&(d.zlevel=c,d.z=v,d.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else te.prototype.highlight.call(this,t,r,a,n)},e.prototype.downplay=function(t,r,a,n){var o=t.getData(),s=Je(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else te.prototype.downplay.call(this,t,r,a,n)},e.prototype._changePolyState=function(t){var r=this._polygon;Hr(this._polyline,t),r&&Hr(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Il({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new kl({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(t,r,a){var n,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):r.type==="polar"&&(n=s.dim==="angle",o=!0);var u=t.hostModel,h=u.get("animationDuration");F(h)&&(h=h(null));var f=u.get("animationDelay")||0,c=F(f)?f(null):f;t.eachItemGraphicEl(function(v,d){var p=v;if(p){var m=[v.x,v.y],g=void 0,y=void 0,_=void 0;if(a)if(o){var x=a,w=r.pointToCoord(m);n?(g=x.startAngle,y=x.endAngle,_=-w[1]/180*Math.PI):(g=x.r0,y=x.r,_=w[0])}else{var b=a;n?(g=b.x,y=b.x+b.width,_=v.x):(g=b.y+b.height,y=b.y,_=v.y)}var S=y===g?0:(_-g)/(y-g);l&&(S=1-S);var T=F(f)?f(d):h*S+c,A=p.getSymbolPath(),C=A.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:T}),A.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,a){var n=t.getModel("endLabel");if(Ja(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new wt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=Fl(l);h>=0&&(mr(s,gr(t,"endLabel"),{inheritColor:a,labelFetcher:t,labelDataIndex:h,defaultText:function(f,c,v){return v!=null?Cl(o,v):Ua(o,f)},enableTextSetter:!0},Vl(n,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,a,n,o,s,l){var u=this._endLabel,h=this._polyline;if(u){t<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var f=a.getLayout("points"),c=a.hostModel,v=c.get("connectNulls"),d=s.get("precision"),p=s.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,_=r.shape,x=y?g?_.x:_.y+_.height:g?_.x+_.width:_.y,w=(g?p:0)*(y?-1:1),b=(g?0:-p)*(y?-1:1),S=g?"x":"y",T=Hl(f,x,S),A=T.range,C=A[1]-A[0],D=void 0;if(C>=1){if(C>1&&!v){var I=di(f,A[0]);u.attr({x:I[0]+w,y:I[1]+b}),o&&(D=c.getRawValue(A[0]))}else{var I=h.getPointOn(x,S);I&&u.attr({x:I[0]+w,y:I[1]+b});var M=c.getRawValue(A[0]),k=c.getRawValue(A[1]);o&&(D=To(a,d,M,k,T.t))}n.lastFrameIndex=A[0]}else{var P=t===1||n.lastFrameIndex>0?A[0]:0,I=di(f,P);o&&(D=c.getRawValue(P)),u.attr({x:I[0]+w,y:I[1]+b})}if(o){var R=Lo(u);typeof R.setLabelText=="function"&&R.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(t,r,a,n,o,s,l){var u=this._polyline,h=this._polygon,f=t.hostModel,c=Ml(this._data,t,this._stackedOnPoints,r,this._coordSys,a,this._valueOrigin),v=c.current,d=c.stackedOnCurrent,p=c.next,m=c.stackedOnNext;if(o&&(d=dt(c.stackedOnCurrent,c.current,a,o,l),v=dt(c.current,null,a,o,l),m=dt(c.stackedOnNext,c.next,a,o,l),p=dt(c.next,null,a,o,l)),vi(v,p)>3e3||h&&vi(d,m)>3e3){u.stopAnimation(),u.setShape({points:p}),h&&(h.stopAnimation(),h.setShape({points:p,stackedOnPoints:m}));return}u.shape.__points=c.current,u.shape.points=v;var g={shape:{points:p}};c.current!==v&&(g.shape.__points=c.next),u.stopAnimation(),Gt(u,g,f),h&&(h.setShape({points:v,stackedOnPoints:d}),h.stopAnimation(),Gt(h,{shape:{stackedOnPoints:m}},f),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var y=[],_=c.status,x=0;x<_.length;x++){var w=_[x].cmd;if(w==="="){var b=t.getItemGraphicEl(_[x].idx1);b&&y.push({el:b,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var S=u.shape.__points,T=0;T<y.length;T++){var A=y[T].el,C=y[T].ptIdx*2;A.x=S[C],A.y=S[C+1],A.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(n,o){n.__temp&&(r.remove(n),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(te);function Xl(i,e){return{seriesType:i,plan:ji(),reset:function(t){var r=t.getData(),a=t.coordinateSystem,n=t.pipelineContext,o=e||n.large;if(a){var s=V(a.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Ht(r,s[0])&&(s[0]=u),Ht(r,s[1])&&(s[1]=u);var h=r.getStore(),f=r.getDimensionIndex(s[0]),c=r.getDimensionIndex(s[1]);return l&&{progress:function(v,d){for(var p=v.end-v.start,m=o&&ut(p*l),g=[],y=[],_=v.start,x=0;_<v.end;_++){var w=void 0;if(l===1){var b=h.get(f,_);w=a.dataToPoint(b,null,y)}else g[0]=h.get(f,_),g[1]=h.get(c,_),w=a.dataToPoint(g,null,y);o?(m[x++]=w[0],m[x++]=w[1]):d.setItemLayout(_,w.slice())}o&&d.setLayout("points",m)}}}}}}var Zl={average:function(i){for(var e=0,t=0,r=0;r<i.length;r++)isNaN(i[r])||(e+=i[r],t++);return t===0?NaN:e/t},sum:function(i){for(var e=0,t=0;t<i.length;t++)e+=i[t]||0;return e},max:function(i){for(var e=-1/0,t=0;t<i.length;t++)i[t]>e&&(e=i[t]);return isFinite(e)?e:NaN},min:function(i){for(var e=1/0,t=0;t<i.length;t++)i[t]<e&&(e=i[t]);return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},Ul=function(i){return Math.round(i.length/2)};function Yl(i){return{seriesType:i,reset:function(e,t,r){var a=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),f=r.getDevicePixelRatio(),c=Math.abs(h[1]-h[0])*(f||1),v=Math.round(s/c);if(isFinite(v)&&v>1){n==="lttb"?e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/v)):n==="minmax"&&e.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/v));var d=void 0;G(n)?d=Zl[n]:F(n)&&(d=n),d&&e.setData(a.downSample(a.mapDimension(u.dim),1/v,d,Ul))}}}}}function Eh(i){i.registerChartView(Wl),i.registerSeriesModel(wl),i.registerLayout(Xl("line",!0)),i.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,Yl("line"))}var $l=function(i){B(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(bt),ar=function(i){B(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mt).models[0]},e.type="cartesian2dAxis",e}(bt);Po(ar,nl);var Qa={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Kl=et({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Qa),Ar=et({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Qa),ql=et({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ar),jl=q({logBase:10},Ar);const Jl={category:Kl,value:Ar,time:ql,log:jl};var Ql={value:1,category:1,time:1,log:1};function pi(i,e,t,r){L(Ql,function(a,n){var o=et(et({},Jl[n],!0),r,!0),s=function(l){B(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=e+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,f){var c=ko(this),v=c?va(h):{},d=f.getTheme();et(h,d.get(n+"Axis")),et(h,this.getDefaultOption()),h.type=gi(h),c&&ca(h,v,c)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=tr.createByAxisModel(this))},u.prototype.getCategories=function(h){var f=this.option;if(f.type==="category")return h?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+n,u.defaultOption=o,u}(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",gi)}function gi(i){return i.type||(i.data?"category":"value")}var tu=function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return V(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Bt(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i}(),nr=["x","y"];function mi(i){return i.type==="interval"||i.type==="time"}var eu=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=nr,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!mi(t)||!mi(r))){var a=t.getExtent(),n=r.getExtent(),o=this.dataToPoint([a[0],n[0]]),s=this.dataToPoint([a[1],n[1]]),l=a[1]-a[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,f=(s[1]-o[1])/u,c=o[0]-a[0]*h,v=o[1]-n[0]*f,d=this._transform=[h,0,0,f,c,v];this._invTransform=Oo([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var a=this.dataToPoint(t),n=this.dataToPoint(r),o=this.getArea(),s=new yt(a[0],a[1],n[0]-a[0],n[1]-a[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,r,a){a=a||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Ft(a,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(n,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},e.prototype.clampData=function(t,r){var a=this.getAxis("x").scale,n=this.getAxis("y").scale,o=a.getExtent(),s=n.getExtent(),l=a.parse(t[0]),u=n.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var a=[];if(this._invTransform)return Ft(a,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return a[0]=n.coordToData(n.toLocalCoord(t[0]),r),a[1]=o.coordToData(o.toLocalCoord(t[1]),r),a},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),n=Math.min(r[0],r[1])-t,o=Math.min(a[0],a[1])-t,s=Math.max(r[0],r[1])-n+t,l=Math.max(a[0],a[1])-o+t;return new yt(n,o,s,l)},e}(tu),ru=function(i){B(e,i);function e(t,r,a,n,o){var s=i.call(this,t,r,a)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(pl);function or(i,e,t){t=t||{};var r=i.coordinateSystem,a=e.axis,n={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,h=r.getRect(),f=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},v=e.get("offset")||0,d=u==="x"?[f[2]-v,f[3]+v]:[f[0]-v,f[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}n.position=[u==="y"?d[c[l]]:f[0],u==="x"?d[c[l]]:f[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=m[s],n.labelOffset=o?d[c[s]]-d[c.onZero]:0,e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),ie(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var g=e.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-g:g,n.z2=1,n}function yi(i){return i.get("coordinateSystem")==="cartesian2d"}function _i(i){var e={xAxisModel:null,yAxisModel:null};return L(e,function(t,r){var a=r.replace(/Model$/,""),n=i.getReferringComponents(a,mt).models[0];e[r]=n}),e}var ze=Math.log;function iu(i,e,t){var r=Xt.prototype,a=r.getTicks.call(t),n=r.getTicks.call(t,!0),o=a.length-1,s=r.getInterval.call(t),l=Ra(i,e),u=l.extent,h=l.fixMin,f=l.fixMax;if(i.type==="log"){var c=ze(i.base);u=[ze(u[0])/c,ze(u[1])/c]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:f});var v=r.getExtent.call(i);h&&(u[0]=v[0]),f&&(u[1]=v[1]);var d=r.getInterval.call(i),p=u[0],m=u[1];if(h&&f)d=(m-p)/o;else if(h)for(m=u[0]+d*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)d=Re(d),m=u[0]+d*o;else if(f)for(p=u[1]-d*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)d=Re(d),p=u[1]-d*o;else{var g=i.getTicks().length-1;g>o&&(d=Re(d));var y=d*o;m=Math.ceil(u[1]/d)*d,p=Z(m-y),p<0&&u[0]>=0?(p=0,m=Z(y)):m>0&&u[1]<=0&&(m=0,p=-Z(y))}var _=(a[0].value-n[0].value)/s,x=(a[o].value-n[o].value)/s;r.setExtent.call(i,p+d*_,m+d*x),r.setInterval.call(i,d),(_||x)&&r.setNiceExtent.call(i,p+d,m-d)}var au=function(){function i(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=nr,this._initCartesian(e,t,r),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function a(o){var s,l=Se(o),u=l.length;if(u){for(var h=[],f=u-1;f>=0;f--){var c=+l[f],v=o[c],d=v.model,p=v.scale;er(p)&&d.get("alignTicks")&&d.get("interval")==null?h.push(v):(ri(p,d),er(p)&&(s=v))}h.length&&(s||(s=h.pop(),ri(s.scale,s.model)),L(h,function(m){iu(m.scale,m.model,s.scale)}))}}a(r.x),a(r.y);var n={};L(r.x,function(o){xi(r,"y",o,n)}),L(r.y,function(o){xi(r,"x",o,n)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,r){var a=e.getBoxLayoutParams(),n=!r&&e.get("containLabel"),o=ae(a,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(L(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=il(u);if(h){var f=u.isHorizontal()?"height":"width",c=u.model.get(["axisLabel","margin"]);o[f]-=h[f]+c,u.position==="top"?o.y+=h.height+c:u.position==="left"&&(o.x+=h.width+c)}}}),l()),L(this._coordsList,function(u){u.calcAffineTransform()});function l(){L(s,function(u){var h=u.isHorizontal(),f=h?[0,o.width]:[0,o.height],c=u.inverse?1:0;u.setExtent(f[c],f[1-c]),nu(u,h?o.x:o.y)})}},i.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}K(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,n=this._coordsList;a<n.length;a++)if(n[a].getAxis("x").index===e||n[a].getAxis("y").index===t)return n[a]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},i.prototype.convertFromPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",mt).models[0],a=e.yAxisModel||t&&t.getReferringComponents("yAxis",mt).models[0],n=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,xt(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,r){var a=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,L(s.x,function(h,f){L(s.y,function(c,v){var d="x"+f+"y"+v,p=new eu(d);p.master=a,p.model=e,a._coordsMap[d]=p,a._coordsList.push(p),p.addAxis(h),p.addAxis(c)})});function u(h){return function(f,c){if(Fe(f,e)){var v=f.get("position");h==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var d=new ru(h,el(f),[0,0],f.get("type"),v),p=d.type==="category";d.onBand=p&&f.get("boundaryGap"),d.inverse=f.get("inverse"),f.axis=d,d.model=f,d.grid=n,d.index=c,n._axesList.push(d),s[h][c]=d,l[h]++}}}},i.prototype._updateScale=function(e,t){L(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var n=a.model.get("categorySortInfo");a.scale.setSortInfo(n)}}),e.eachSeries(function(a){if(yi(a)){var n=_i(a),o=n.xAxisModel,s=n.yAxisModel;if(!Fe(o,t)||!Fe(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),h=l.getAxis("x"),f=l.getAxis("y");r(u,h),r(u,f)}},this);function r(a,n){L(Ba(a,n.dim),function(o){n.scale.unionExtentFromData(a,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],r=[];return L(this.getCartesians(),function(a){var n=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),o=a.getOtherAxis(n);xt(t,n)<0&&t.push(n),xt(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},i.create=function(e,t){var r=[];return e.eachComponent("grid",function(a,n){var o=new i(a,e,t);o.name="grid_"+n,o.resize(a,t,!0),a.coordinateSystem=o,r.push(o)}),e.eachSeries(function(a){if(yi(a)){var n=_i(a),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},i.dimensions=nr,i}();function Fe(i,e){return i.getCoordSysModel()===e}function xi(i,e,t,r){t.getAxesOnZeroOf=function(){return n?[n]:[]};var a=i[e],n,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)bi(a[l])&&(n=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&bi(a[u])&&!r[h(a[u])]){n=a[u];break}n&&(r[h(n)]=!0);function h(f){return f.dim+"_"+f.index}}function bi(i){return i&&i.type!=="category"&&i.type!=="time"&&rl(i)}function nu(i,e){var t=i.getExtent(),r=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(a){return a+e}:function(a){return r-a+e},i.toLocalCoord=i.dim==="x"?function(a){return a-e}:function(a){return r-a+e}}var _t=Math.PI,St=function(){function i(e,t){this.group=new st,this.opt=t,this.axisModel=e,q(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new st({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return i.prototype.hasBuilder=function(e){return!!Si[e]},i.prototype.add=function(e){Si[e](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(e,t,r){var a=da(t-e),n,o;return be(a)?(o=r>0?"top":"bottom",n="center"):be(a-_t)?(o=r>0?"bottom":"top",n="center"):(o="middle",a>0&&a<_t?n=r>0?"right":"left":n=r>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o}},i.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},i.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},i}(),Si={axisLine:function(i,e,t,r){var a=e.get(["axisLine","show"]);if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisLine")),!!a){var n=e.axis.getExtent(),o=r.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(Ft(s,s,o),Ft(l,l,o));var h=X({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new _e({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});xe(f.shape,f.style.lineWidth),f.anid="line",t.add(f);var c=e.get(["axisLine","symbol"]);if(c!=null){var v=e.get(["axisLine","symbolSize"]);G(c)&&(c=[c,c]),(G(v)||Wt(v))&&(v=[v,v]);var d=ha(e.get(["axisLine","symbolOffset"])||0,v),p=v[0],m=v[1];L([{rotate:i.rotation+Math.PI/2,offset:d[0],r:0},{rotate:i.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(g,y){if(c[y]!=="none"&&c[y]!=null){var _=re(c[y],-p/2,-m/2,p,m,h.stroke,!0),x=g.r+g.offset,w=u?l:s;_.attr({rotation:g.rotate,x:w[0]+x*Math.cos(i.rotation),y:w[1]-x*Math.sin(i.rotation),silent:!0,z2:11}),t.add(_)}})}}},axisTickLabel:function(i,e,t,r){var a=lu(t,r,e,i),n=hu(t,r,e,i);if(su(e,n,a),uu(t,r,e,i.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=ml(V(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));yl(o)}},axisName:function(i,e,t,r){var a=ie(i.axisName,e.get("name"));if(a){var n=e.get("nameLocation"),o=i.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),h=u[0]>u[1]?-1:1,f=[n==="start"?u[0]-h*l:n==="end"?u[1]+h*l:(u[0]+u[1])/2,Ci(n)?i.labelOffset+o*l:0],c,v=e.get("nameRotate");v!=null&&(v=v*_t/180);var d;Ci(n)?c=St.innerTextLayout(i.rotation,v??i.rotation,o):(c=ou(i.rotation,n,v||0,u),d=i.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(c.rotation)),!isFinite(d)&&(d=null)));var p=s.getFont(),m=e.get("nameTruncate",!0)||{},g=m.ellipsis,y=ie(i.nameTruncateMaxWidth,m.maxWidth,d),_=new wt({x:f[0],y:f[1],rotation:c.rotation,silent:St.isLabelSilent(e),style:Ce(s,{text:a,font:p,overflow:"truncate",width:y,ellipsis:g,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||c.textAlign,verticalAlign:s.get("verticalAlign")||c.textVerticalAlign}),z2:1});if(yr({el:_,componentModel:e,itemName:a}),_.__fullText=a,_.anid="name",e.get("triggerEvent")){var x=St.makeAxisEventDataBase(e);x.targetType="axisName",x.name=a,Y(_).eventData=x}r.add(_),_.updateTransform(),t.add(_),_.decomposeTransform()}}};function ou(i,e,t,r){var a=da(t-i),n,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return be(a-_t/2)?(o=l?"bottom":"top",n="center"):be(a-_t*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",a<_t*1.5&&a>_t/2?n=l?"left":"right":n=l?"right":"left"),{rotation:a,textAlign:n,textVerticalAlign:o}}function su(i,e,t){if(!Na(i.axis)){var r=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var n=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],h=t[1],f=t[t.length-1],c=t[t.length-2];r===!1?(tt(n),tt(u)):wi(n,o)&&(r?(tt(o),tt(h)):(tt(n),tt(u))),a===!1?(tt(s),tt(f)):wi(l,s)&&(a?(tt(l),tt(c)):(tt(s),tt(f)))}}function tt(i){i&&(i.ignore=!0)}function wi(i,e){var t=i&&i.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var a=Eo([]);return pa(a,a,-i.rotation),t.applyTransform(Wr([],a,i.getLocalTransform())),r.applyTransform(Wr([],a,e.getLocalTransform())),t.intersect(r)}}function Ci(i){return i==="middle"||i==="center"}function tn(i,e,t,r,a){for(var n=[],o=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(Ft(o,o,e),Ft(s,s,e));var h=new _e({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});xe(h.shape,h.style.lineWidth),h.anid=a+"_"+i[l].tickValue,n.push(h)}return n}function lu(i,e,t,r){var a=t.axis,n=t.getModel("axisTick"),o=n.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=r.tickDirection*n.get("length"),u=a.getTicksCoords(),h=tn(u,e.transform,l,q(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<h.length;f++)i.add(h[f]);return h}}function uu(i,e,t,r){var a=t.axis,n=t.getModel("minorTick");if(!(!n.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=r*n.get("length"),u=q(s.getLineStyle(),q(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var f=tn(o[h],e.transform,l,u,"minorticks_"+h),c=0;c<f.length;c++)i.add(f[c])}}function hu(i,e,t,r){var a=t.axis,n=ie(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!n||a.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(ie(r.labelRotate,o.get("rotate"))||0)*_t/180,h=St.innerTextLayout(r.rotation,u,r.labelDirection),f=t.getCategories&&t.getCategories(!0),c=[],v=St.isLabelSilent(t),d=t.get("triggerEvent");return L(l,function(p,m){var g=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,_=p.rawLabel,x=o;if(f&&f[g]){var w=f[g];K(w)&&w.textStyle&&(x=new gt(w.textStyle,o,t.ecModel))}var b=x.getTextColor()||t.get(["axisLine","lineStyle","color"]),S=a.dataToCoord(g),T=x.getShallow("align",!0)||h.textAlign,A=Tt(x.getShallow("alignMinLabel",!0),T),C=Tt(x.getShallow("alignMaxLabel",!0),T),D=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||h.textVerticalAlign,I=Tt(x.getShallow("verticalAlignMinLabel",!0),D),M=Tt(x.getShallow("verticalAlignMaxLabel",!0),D),k=new wt({x:S,y:r.labelOffset+r.labelDirection*s,rotation:h.rotation,silent:v,z2:10+(p.level||0),style:Ce(x,{text:y,align:m===0?A:m===l.length-1?C:T,verticalAlign:m===0?I:m===l.length-1?M:D,fill:F(b)?b(a.type==="category"?_:a.type==="value"?g+"":g,m):b})});if(k.anid="label_"+g,yr({el:k,componentModel:t,itemName:y,formatterParamsExtra:{isTruncated:function(){return k.isTruncated},value:_,tickIndex:m}}),d){var P=St.makeAxisEventDataBase(t);P.targetType="axisLabel",P.value=_,P.tickIndex=m,a.type==="category"&&(P.dataIndex=g),Y(k).eventData=P}e.add(k),k.updateTransform(),c.push(k),i.add(k),k.decomposeTransform()}),c}}function fu(i,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return vu(t,i,e),t.seriesInvolved&&du(t,i),t}function vu(i,e,t){var r=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),n=a.get("link",!0)||[],o=[];L(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=oe(s.model),u=i.coordSysAxesInfo[l]={};i.coordSysMap[l]=s;var h=s.model,f=h.getModel("tooltip",r);if(L(s.getAxes(),$(p,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var c=f.get("trigger")==="axis",v=f.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(f.get(["axisPointer","axis"]));(c||v)&&L(d.baseAxes,$(p,v?"cross":!0,c)),v&&L(d.otherAxes,$(p,"cross",!1))}function p(m,g,y){var _=y.model.getModel("axisPointer",a),x=_.get("show");if(!(!x||x==="auto"&&!m&&!sr(_))){g==null&&(g=_.get("triggerTooltip")),_=m?cu(y,f,a,e,m,g):_;var w=_.get("snap"),b=_.get("triggerEmphasis"),S=oe(y.model),T=g||w||y.type==="category",A=i.axesInfo[S]={key:S,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:g,triggerEmphasis:b,involveSeries:T,snap:w,useHandle:sr(_),seriesModels:[],linkGroup:null};u[S]=A,i.seriesInvolved=i.seriesInvolved||T;var C=pu(n,y);if(C!=null){var D=o[C]||(o[C]={axesInfo:{}});D.axesInfo[S]=A,D.mapper=n[C].mapper,A.linkGroup=D}}}})}function cu(i,e,t,r,a,n){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};L(s,function(c){l[c]=Nt(o.get(c))}),l.snap=i.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var h=o.get(["label","show"]);if(u.show=h??!0,!n){var f=l.lineStyle=o.get("crossStyle");f&&q(u,f.textStyle)}}return i.model.getModel("axisPointer",new gt(l,t,r))}function du(i,e){e.eachSeries(function(t){var r=t.coordinateSystem,a=t.get(["tooltip","trigger"],!0),n=t.get(["tooltip","show"],!0);!r||a==="none"||a===!1||a==="item"||n===!1||t.get(["axisPointer","show"],!0)===!1||L(i.coordSysAxesInfo[oe(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function pu(i,e){for(var t=e.model,r=e.dim,a=0;a<i.length;a++){var n=i[a]||{};if(He(n[r+"AxisId"],t.id)||He(n[r+"AxisIndex"],t.componentIndex)||He(n[r+"AxisName"],t.name))return a}}function He(i,e){return i==="all"||H(i)&&xt(i,e)>=0||i===e}function gu(i){var e=Tr(i);if(e){var t=e.axisPointerModel,r=e.axis.scale,a=t.option,n=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=sr(t);n==null&&(a.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function Tr(i){var e=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[oe(i)]}function mu(i){var e=Tr(i);return e&&e.axisPointerModel}function sr(i){return!!i.get(["handle","show"])}function oe(i){return i.type+"||"+i.id}var Di={},en=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,n){this.axisPointerClass&&gu(t),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,a,!0)},e.prototype.updateAxisPointer=function(t,r,a,n){this._doUpdateAxisPointerClass(t,a,!1)},e.prototype.remove=function(t,r){var a=this._axisPointer;a&&a.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),i.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,a){var n=e.getAxisPointerClass(this.axisPointerClass);if(n){var o=mu(t);o?(this._axisPointer||(this._axisPointer=new n)).render(t,o,r,a):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){Di[t]=r},e.getAxisPointerClass=function(t){return t&&Di[t]},e.type="axis",e}(It),lr=Vt();function yu(i,e,t,r){var a=t.axis;if(!a.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,f=lr(i).splitAreaColors,c=rt(),v=0;if(f)for(var d=0;d<u.length;d++){var p=f.get(u[d].tickValue);if(p!=null){v=(p+(h-1)*d)%h;break}}var m=a.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=H(s)?s:[s];for(var d=1;d<u.length;d++){var y=a.toGlobalCoord(u[d].coord),_=void 0,x=void 0,w=void 0,b=void 0;a.isHorizontal()?(_=m,x=l.y,w=y-_,b=l.height,m=_+w):(_=l.x,x=m,w=l.width,b=y-x,m=x+b);var S=u[d-1].tickValue;S!=null&&c.set(S,v),e.add(new kt({anid:S!=null?"area_"+S:null,shape:{x:_,y:x,width:w,height:b},style:q({fill:s[v]},g),autoBatch:!0,silent:!0})),v=(v+1)%h}lr(i).splitAreaColors=c}}}function _u(i){lr(i).splitAreaColors=null}var xu=["axisLine","axisTickLabel","axisName"],bu=["splitArea","splitLine","minorSplitLine"],rn=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,a,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new st,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=or(s,t),u=new St(t,X({handleAutoShown:function(f){for(var c=s.coordinateSystem.getCartesians(),v=0;v<c.length;v++)if(er(c[v].getOtherAxis(t.axis).scale))return!0;return!1}},l));L(xu,u.add,u),this._axisGroup.add(u.getGroup()),L(bu,function(f){t.get([f,"show"])&&Su[f](this,this._axisGroup,t,s)},this);var h=n&&n.type==="changeAxisOrder"&&n.isInitSort;h||Ro(o,this._axisGroup,t),i.prototype.render.call(this,t,r,a,n)}},e.prototype.remove=function(){_u(this)},e.type="cartesianAxis",e}(en),Su={splitLine:function(i,e,t,r){var a=t.axis;if(!a.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,u=n.get("showMaxLine")!==!1;s=H(s)?s:[s];for(var h=r.coordinateSystem.getRect(),f=a.isHorizontal(),c=0,v=a.getTicksCoords({tickModel:n}),d=[],p=[],m=o.getLineStyle(),g=0;g<v.length;g++){var y=a.toGlobalCoord(v[g].coord);if(!(g===0&&!l||g===v.length-1&&!u)){var _=v[g].tickValue;f?(d[0]=y,d[1]=h.y,p[0]=y,p[1]=h.y+h.height):(d[0]=h.x,d[1]=y,p[0]=h.x+h.width,p[1]=y);var x=c++%s.length,w=new _e({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:q({stroke:s[x]},m),silent:!0});xe(w.shape,m.lineWidth),e.add(w)}}}},minorSplitLine:function(i,e,t,r){var a=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var h=[],f=[],c=o.getLineStyle(),v=0;v<u.length;v++)for(var d=0;d<u[v].length;d++){var p=a.toGlobalCoord(u[v][d].coord);l?(h[0]=p,h[1]=s.y,f[0]=p,f[1]=s.y+s.height):(h[0]=s.x,h[1]=p,f[0]=s.x+s.width,f[1]=p);var m=new _e({anid:"minor_line_"+u[v][d].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:c,silent:!0});xe(m.shape,c.lineWidth),e.add(m)}},splitArea:function(i,e,t,r){yu(i,e,t,r)}},an=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(rn),wu=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=an.type,t}return e.type="yAxis",e}(rn),Cu=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new kt({shape:t.coordinateSystem.getRect(),style:q({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(It),Ai={offset:0};function Du(i){i.registerComponentView(Cu),i.registerComponentModel($l),i.registerCoordinateSystem("cartesian2d",au),pi(i,"x",ar,Ai),pi(i,"y",ar,Ai),i.registerComponentView(an),i.registerComponentView(wu),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var At=Vt(),Ti=Nt,Ve=j,Au=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,a){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!a&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var f=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new st,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var c=$(Li,t,f);this.updatePointerEl(s,u,c),this.updateLabelEl(s,u,c,t)}Ii(s,t,!0),this._renderHandle(n)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),a=e.axis,n=a.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(n&&a.getBandWidth()>s)return!0;if(o){var l=Tr(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,a,n){},i.prototype.createPointerEl=function(e,t,r,a){var n=t.pointer;if(n){var o=At(e).pointerEl=new No[n.type](Ti(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,r,a){if(t.label){var n=At(e).labelEl=new wt(Ti(t.label));e.add(n),Mi(n,a)}},i.prototype.updatePointerEl=function(e,t,r){var a=At(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),r(a,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,a){var n=At(e).labelEl;n&&(n.setStyle(t.label.style),r(n,{x:t.label.x,y:t.label.y}),Mi(n,a))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),a=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=ga(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Bo(u.event)},onmousedown:Ve(this._onHandleDragMove,this,0,0),drift:Ve(this._onHandleDragMove,this),ondragend:Ve(this._onHandleDragEnd,this)}),r.add(a)),Ii(a,t,!1),a.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");H(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,ma(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){Li(this._axisPointerModel,!t&&this._moveAnimation,this._handle,We(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(We(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(We(a)),At(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,a=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Qe(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function Li(i,e,t,r){nn(At(t).lastProp,r)||(At(t).lastProp=r,e?Gt(t,r,i):(t.stopAnimation(),t.attr(r)))}function nn(i,e){if(K(i)&&K(e)){var t=!0;return L(e,function(r,a){t=t&&nn(i[a],r)}),!!t}else return i===e}function Mi(i,e){i[e.get(["label","show"])?"show":"hide"]()}function We(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function Ii(i,e,t){var r=e.get("z"),a=e.get("zlevel");i&&i.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),a!=null&&(n.zlevel=a),n.silent=t)})}function Tu(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function Lu(i,e,t,r,a){var n=t.get("value"),o=on(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=_r(s.get("padding")||0),u=s.getFont(),h=sa(o,u),f=a.position,c=h.width+l[1]+l[3],v=h.height+l[0]+l[2],d=a.align;d==="right"&&(f[0]-=c),d==="center"&&(f[0]-=c/2);var p=a.verticalAlign;p==="bottom"&&(f[1]-=v),p==="middle"&&(f[1]-=v/2),Mu(f,c,v,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),i.label={x:f[0],y:f[1],style:Ce(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function Mu(i,e,t,r){var a=r.getWidth(),n=r.getHeight();i[0]=Math.min(i[0]+e,a)-e,i[1]=Math.min(i[1]+t,n)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function on(i,e,t,r,a){i=e.scale.parse(i);var n=e.scale.getLabel({value:i},{precision:a.precision}),o=a.formatter;if(o){var s={value:wr(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};L(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,f=u&&u.getDataParams(h);f&&s.seriesData.push(f)}),G(o)?n=o.replace("{value}",n):F(o)&&(n=o(s))}return n}function sn(i,e,t){var r=Fo();return pa(r,r,t.rotation),Go(r,r,t.position),zo([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Iu(i,e,t,r,a,n){var o=St.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),Lu(e,r,a,n,{position:sn(r.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Pu(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function ku(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}function Rh(i,e,t,r,a,n){return{cx:i,cy:e,r0:t,r,startAngle:a,endAngle:n,clockwise:!0}}var Ou=function(i){B(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,n,o){var s=a.axis,l=s.grid,u=n.get("type"),h=Pi(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var c=Tu(n),v=Eu[u](s,f,h);v.style=c,t.graphicKey=v.type,t.pointer=v}var d=or(l.model,a);Iu(r,t,d,a,n,o)},e.prototype.getHandleTransform=function(t,r,a){var n=or(r.axis.grid.model,r,{labelInside:!1});n.labelMargin=a.get(["handle","margin"]);var o=sn(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,n){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Pi(s,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,f=[t.x,t.y];f[h]+=r[h],f[h]=Math.min(l[1],f[h]),f[h]=Math.max(l[0],f[h]);var c=(u[1]+u[0])/2,v=[c,c];v[h]=f[h];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:v,tooltipOption:d[h]}},e}(Au);function Pi(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var Eu={line:function(i,e,t){var r=Pu([e,t[0]],[e,t[1]],ki(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:ku([e-r/2,t[0]],[r,a],ki(i))}}};function ki(i){return i.dim==="x"?0:1}var Ru=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(bt),ht=Vt(),Nu=L;function ln(i,e,t){if(!J.node){var r=e.getZr();ht(r).records||(ht(r).records={}),Bu(r,e);var a=ht(r).records[i]||(ht(r).records[i]={});a.handler=t}}function Bu(i,e){if(ht(i).initialized)return;ht(i).initialized=!0,t("click",$(Oi,"click")),t("mousemove",$(Oi,"mousemove")),t("globalout",zu);function t(r,a){i.on(r,function(n){var o=Fu(e);Nu(ht(i).records,function(s){s&&a(s,n,o.dispatchAction)}),Gu(o.pendings,e)})}}function Gu(i,e){var t=i.showTip.length,r=i.hideTip.length,a;t?a=i.showTip[t-1]:r&&(a=i.hideTip[r-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function zu(i,e,t){i.handler("leave",null,t)}function Oi(i,e,t,r){e.handler(i,t,r)}function Fu(i){var e={showTip:[],hideTip:[]},t=function(r){var a=e[r.type];a?a.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function ur(i,e){if(!J.node){var t=e.getZr(),r=(ht(t).records||{})[i];r&&(ht(t).records[i]=null)}}var Hu=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var n=r.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";ln("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){ur("axisPointer",r)},e.prototype.dispose=function(t,r){ur("axisPointer",r)},e.type="axisPointer",e}(It);function un(i,e){var t=[],r=i.seriesIndex,a;if(r==null||!(a=e.getSeriesByIndex(r)))return{point:[]};var n=a.getData(),o=Je(n,i);if(o==null||o<0||H(o))return{point:[]};var s=n.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),f=h.dim,c=u.dim,v=f==="x"||f==="radius"?1:0,d=n.mapDimension(c),p=[];p[v]=n.get(d,o),p[1-v]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(n.getValues(V(l.dimensions,function(g){return n.mapDimension(g)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var Ei=Vt();function Vu(i,e,t){var r=i.currTrigger,a=[i.x,i.y],n=i,o=i.dispatchAction||j(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ye(a)&&(a=un({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=ye(a),u=n.axesInfo,h=s.axesInfo,f=r==="leave"||ye(a),c={},v={},d={list:[],map:{}},p={showPointer:$(Xu,v),showTooltip:$(Zu,d)};L(s.coordSysMap,function(g,y){var _=l||g.containPoint(a);L(s.coordSysAxesInfo[y],function(x,w){var b=x.axis,S=Ku(u,x);if(!f&&_&&(!u||S)){var T=S&&S.value;T==null&&!l&&(T=b.pointToData(a)),T!=null&&Ri(x,T,p,!1,c)}})});var m={};return L(h,function(g,y){var _=g.linkGroup;_&&!v[y]&&L(_.axesInfo,function(x,w){var b=v[w];if(x!==g&&b){var S=b.value;_.mapper&&(S=g.axis.scale.parse(_.mapper(S,Ni(x),Ni(g)))),m[g.key]=S}})}),L(m,function(g,y){Ri(h[y],g,p,!0,c)}),Uu(v,h,c),Yu(d,a,i,o),$u(h,o,t),c}}function Ri(i,e,t,r,a){var n=i.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=Wu(e,i),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&X(a,s[0]),!r&&i.snap&&n.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,o,l)}}function Wu(i,e){var t=e.axis,r=t.dim,a=i,n=[],o=Number.MAX_VALUE,s=-1;return L(e.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(r),f,c;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(h,i,t);c=v.dataIndices,f=v.nestestValue}else{if(c=l.getData().indicesOfNearest(h[0],i,t.type==="category"?.5:null),!c.length)return;f=l.getData().get(h[0],c[0])}if(!(f==null||!isFinite(f))){var d=i-f,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,a=f,n.length=0),L(c,function(m){n.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:n,snapToValue:a}}function Xu(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function Zu(i,e,t,r){var a=t.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=oe(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function Uu(i,e,t){var r=t.axesInfo=[];L(e,function(a,n){var o=a.axisPointerModel.option,s=i[n];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Yu(i,e,t,r){if(ye(e)||!i.list.length){r({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function $u(i,e,t){var r=t.getZr(),a="axisPointerLastHighlights",n=Ei(r)[a]||{},o=Ei(r)[a]={};L(i,function(u,h){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&L(f.seriesDataIndices,function(c){var v=c.seriesIndex+" | "+c.dataIndex;o[v]=c})});var s=[],l=[];L(n,function(u,h){!o[h]&&l.push(u)}),L(o,function(u,h){!n[h]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Ku(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function Ni(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ye(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function hn(i){en.registerAxisPointerClass("CartesianAxisPointer",Ou),i.registerComponentModel(Ru),i.registerComponentView(Hu),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!H(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=fu(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Vu)}function Nh(i){Pt(Du),Pt(hn)}function Bh(i,e,t){var r=e.getBoxLayoutParams(),a=e.get("padding"),n={width:t.getWidth(),height:t.getHeight()},o=ae(r,n,a);Rt(e.get("orient"),i,e.get("itemGap"),o.width,o.height),Ho(i,r,n,a)}function qu(i,e){var t=_r(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new kt({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var ju=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(bt);function fn(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function vn(i){if(J.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var cn=vn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ju=vn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function dn(i,e){if(!i)return e;e=ya(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function Qu(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?t[e]:null}var th=dn(Ju,"transition"),Lr=dn(cn,"transform"),eh="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(J.transform3dSupported?"will-change:transform;":"");function rh(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function ih(i,e,t){if(!G(t)||t==="inside")return"";var r=i.get("backgroundColor"),a=i.get("borderWidth");e=zt(e);var n=rh(t),o=Math.max(Math.round(a)*1.5,6),s="",l=Lr+":",u;xt(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var h=u*Math.PI/180,f=o+a,c=f*Math.abs(Math.cos(h))+f*Math.abs(Math.sin(h)),v=Math.round(((c-Math.SQRT2*a)/2+Math.SQRT2*a-(c-f)/2)*100)/100;s+=";"+n+":-"+v+"px";var d=e+" solid "+a+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+p.join("")+'"></div>'}function ah(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,a="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,a+=J.transformSupported?","+Lr+r:",left"+r+",top"+r),th+":"+a}function Bi(i,e,t){var r=i.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!J.transformSupported)return t?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var n=J.transform3dSupported,o="translate"+(n?"3d":"")+"("+r+","+a+(n?",0":"")+")";return t?"top:0;left:0;"+Lr+":"+o+";":[["top",0],["left",0],[cn,o]]}function nh(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont());var a=Tt(i.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+a+"px");var n=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,s=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return n&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),L(["decoration","align"],function(u){var h=i.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}function oh(i,e,t){var r=[],a=i.get("transitionDuration"),n=i.get("backgroundColor"),o=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),f=_a(i,"html"),c=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+c),e&&a&&r.push(ah(a,t)),n&&r.push("background-color:"+n),L(["width","color","radius"],function(v){var d="border-"+v,p=ya(d),m=i.get(p);m!=null&&r.push(d+":"+m+(v==="color"?"":"px"))}),r.push(nh(h)),f!=null&&r.push("padding:"+_r(f).join("px ")+"px"),r.join(";")+";"}function Gi(i,e,t,r,a){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&Wo(i,o,t,r,a)}else{i[0]=r,i[1]=a;var s=n&&n.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var sh=function(){function i(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,J.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var a=this._zr=e.getZr(),n=t.appendTo,o=n&&(G(n)?document.querySelector(n):Xr(n)?n:F(n)&&n(e.getDom()));Gi(this._styleCoord,a,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,h=a.painter.getViewportRoot();Vo(h,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=Qu(t,"position"),a=t.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative")}var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,n=this._styleCoord;r.innerHTML?a.cssText=eh+oh(e,!this._firstShow,this._longHide)+Bi(n[0],n[1],!0)+("border-color:"+zt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,a,n){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(G(n)&&r.get("trigger")==="item"&&!fn(r)&&(s=ih(r,a,n)),G(e))o.innerHTML=e+s;else if(e){o.innerHTML="",H(e)||(e=[e]);for(var l=0;l<e.length;l++)Xr(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},i.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if(Gi(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var a=this.el.style,n=Bi(r[0],r[1]);L(n,function(o){a[o[0]]=o[1]})}}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",J.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(j(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},i}(),lh=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Fi(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,a,n){var o=this;K(e)&&Xo(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new wt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:_a(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),L(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),L(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=zi(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;Fi(a,this._zr,e,t),e=a[0],t=a[1];var n=r.style,o=pt(n.borderWidth||0),s=zi(n);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(j(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function pt(i){return Math.max(0,i)}function zi(i){var e=pt(i.shadowBlur||0),t=pt(i.shadowOffsetX||0),r=pt(i.shadowOffsetY||0);return{left:pt(e-t),right:pt(e+t),top:pt(e-r),bottom:pt(e+r)}}function Fi(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var uh=new kt({shape:{x:-1,y:-1,width:2,height:2}}),hh=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(J.node||!r.getDom())){var a=t.getComponent("tooltip"),n=this._renderMode=Zo(a.get("renderMode"));this._tooltipContent=n==="richText"?new lh(r):new sh(r,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,r,a){if(!(J.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=a;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?ma(this,"_updatePosition",50,"fixRate"):Qe(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");ln("itemTooltip",this._api,j(function(a,n,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(n,o):a==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,a=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(t,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,a,n){if(!(n.from===this.uid||J.node||!a.getDom())){var o=Hi(n,a);this._ticket="";var s=n.dataByCoordSys,l=dh(n,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var h=uh;h.x=n.x,h.y=n.y,h.update(),Y(h).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:h},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,a,n))return;var f=un(n,r),c=f.point[0],v=f.point[1];c!=null&&v!=null&&this._tryShow({offsetX:c,offsetY:v,target:f.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:a.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,a,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(Hi(n,a))},e.prototype._manuallyAxisShowTip=function(t,r,a,n){var o=n.seriesIndex,s=n.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),f=jt([h.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},e.prototype._tryShow=function(t,r){var a=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(a){var s=Y(a);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Uo(a,function(h){if(Y(h).dataIndex!=null)return l=h,!0;if(Y(h).tooltipConfig!=null)return u=h,!0},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var a=t.get("showDelay");r=j(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},e.prototype._showAxisTooltip=function(t,r){var a=this._ecModel,n=this._tooltipModel,o=[r.offsetX,r.offsetY],s=jt([r.tooltipOption],n),l=this._renderMode,u=[],h=Zr("section",{blocks:[],noHeader:!0}),f=[],c=new Pe;L(t,function(y){L(y.dataByAxis,function(_){var x=a.getComponent(_.axisDim+"Axis",_.axisIndex),w=_.value;if(!(!x||w==null)){var b=on(w,x.axis,a,_.seriesDataIndices,_.valueLabelOpt),S=Zr("section",{header:b,noHeader:!Yo(b),sortBlocks:!0,blocks:[]});h.blocks.push(S),L(_.seriesDataIndices,function(T){var A=a.getSeriesByIndex(T.seriesIndex),C=T.dataIndexInside,D=A.getDataParams(C);if(!(D.dataIndex<0)){D.axisDim=_.axisDim,D.axisIndex=_.axisIndex,D.axisType=_.axisType,D.axisId=_.axisId,D.axisValue=wr(x.axis,{value:w}),D.axisValueLabel=b,D.marker=c.makeTooltipMarker("item",zt(D.color),l);var I=Ur(A.formatTooltip(C,!0,null)),M=I.frag;if(M){var k=jt([A],n).get("valueFormatter");S.blocks.push(k?X({valueFormatter:k},M):M)}I.text&&f.push(I.text),u.push(D)}})}})}),h.blocks.reverse(),f.reverse();var v=r.position,d=s.get("order"),p=Yr(h,c,l,d,a.get("useUTC"),s.get("textStyle"));p&&f.unshift(p);var m=l==="richText"?`

`:"<br/>",g=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],v,null,c)})},e.prototype._showSeriesItemTooltip=function(t,r,a){var n=this._ecModel,o=Y(r),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,h=o.dataIndex,f=o.dataType,c=u.getData(f),v=this._renderMode,d=t.positionDefault,p=jt([c.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(h,f),y=new Pe;g.marker=y.makeTooltipMarker("item",zt(g.color),v);var _=Ur(u.formatTooltip(h,!1,f)),x=p.get("order"),w=p.get("valueFormatter"),b=_.frag,S=b?Yr(w?X({valueFormatter:w},b):b,y,v,x,n.get("useUTC"),p.get("textStyle")):_.text,T="item_"+u.name+"_"+h;this._showOrMove(p,function(){this._showTooltipContent(p,S,g,T,t.offsetX,t.offsetY,t.position,t.target,y)}),a({type:"showTip",dataIndexInside:h,dataIndex:c.getRawIndex(h),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,a){var n=this._renderMode==="html",o=Y(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(G(l)){var h=l;l={content:h,formatter:h},u=!0}u&&n&&l.content&&(l=Nt(l),l.content=$o(l.content));var f=[l],c=this._ecModel.getComponent(o.componentMainType,o.componentIndex);c&&f.push(c),f.push({formatter:l.content});var v=t.positionDefault,d=jt(f,this._tooltipModel,v?{position:v}:null),p=d.get("content"),m=Math.random()+"",g=new Pe;this._showOrMove(d,function(){var y=Nt(d.get("formatterParams")||{});this._showTooltipContent(d,p,y,m,t.offsetX,t.offsetY,t.position,r,g)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,a,n,o,s,l,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var c=t.get("formatter");l=l||t.get("position");var v=r,d=this._getNearestPoint([o,s],a,t.get("trigger"),t.get("borderColor")),p=d.color;if(c)if(G(c)){var m=t.ecModel.get("useUTC"),g=H(a)?a[0]:a,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;v=c,y&&(v=Ji(g.axisValue,v,m)),v=Ko(v,a,!0)}else if(F(c)){var _=j(function(x,w){x===this._ticket&&(f.setContent(w,h,t,p,l),this._updatePosition(t,l,o,s,f,a,u))},this);this._ticket=n,v=c(a,n,_)}else v=c;f.setContent(v,h,t,p,l),f.show(t,p),this._updatePosition(t,l,o,s,f,a,u)}},e.prototype._getNearestPoint=function(t,r,a,n){if(a==="axis"||H(r))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!H(r))return{color:n||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,a,n,o,s,l){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var f=o.getSize(),c=t.get("align"),v=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),F(r)&&(r=r([a,n],s,o.el,d,{viewSize:[u,h],contentSize:f.slice()})),H(r))a=Lt(r[0],u),n=Lt(r[1],h);else if(K(r)){var p=r;p.width=f[0],p.height=f[1];var m=ae(p,{width:u,height:h});a=m.x,n=m.y,c=null,v=null}else if(G(r)&&l){var g=ch(r,d,f,t.get("borderWidth"));a=g[0],n=g[1]}else{var g=fh(a,n,o,u,h,c?null:20,v?null:20);a=g[0],n=g[1]}if(c&&(a-=Vi(c)?f[0]/2:c==="right"?f[0]:0),v&&(n-=Vi(v)?f[1]/2:v==="bottom"?f[1]:0),fn(t)){var g=vh(a,n,o,u,h);a=g[0],n=g[1]}o.moveTo(a,n)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var a=this._lastDataByCoordSys,n=this._cbParamsList,o=!!a&&a.length===t.length;return o&&L(a,function(s,l){var u=s.dataByAxis||[],h=t[l]||{},f=h.dataByAxis||[];o=o&&u.length===f.length,o&&L(u,function(c,v){var d=f[v]||{},p=c.seriesDataIndices||[],m=d.seriesDataIndices||[];o=o&&c.value===d.value&&c.axisType===d.axisType&&c.axisId===d.axisId&&p.length===m.length,o&&L(p,function(g,y){var _=m[y];o=o&&g.seriesIndex===_.seriesIndex&&g.dataIndex===_.dataIndex}),n&&L(c.seriesDataIndices,function(g){var y=g.seriesIndex,_=r[y],x=n[y];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){J.node||!r.getDom()||(Qe(this,"_updatePosition"),this._tooltipContent.dispose(),ur("itemTooltip",r))},e.type="tooltip",e}(It);function jt(i,e,t){var r=e.ecModel,a;t?(a=new gt(t,r,r),a=new gt(e.option,a,r)):a=e;for(var n=i.length-1;n>=0;n--){var o=i[n];o&&(o instanceof gt&&(o=o.get("tooltip",!0)),G(o)&&(o={formatter:o}),o&&(a=new gt(o,a,r)))}return a}function Hi(i,e){return i.dispatchAction||j(e.dispatchAction,e)}function fh(i,e,t,r,a,n,o){var s=t.getSize(),l=s[0],u=s[1];return n!=null&&(i+l+n+2>r?i-=l+n:i+=n),o!=null&&(e+u+o>a?e-=u+o:e+=o),[i,e]}function vh(i,e,t,r,a){var n=t.getSize(),o=n[0],s=n[1];return i=Math.min(i+o,r)-o,e=Math.min(e+s,a)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function ch(i,e,t,r){var a=t[0],n=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,h=e.height;switch(i){case"inside":s=e.x+u/2-a/2,l=e.y+h/2-n/2;break;case"top":s=e.x+u/2-a/2,l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2,l=e.y+h+o;break;case"left":s=e.x-a-o,l=e.y+h/2-n/2;break;case"right":s=e.x+u+o,l=e.y+h/2-n/2}return[s,l]}function Vi(i){return i==="center"||i==="middle"}function dh(i,e,t){var r=qo(i).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var n=jo(e,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var h=Y(u).tooltipConfig;if(h&&h.name===i.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}function Gh(i){Pt(hn),i.registerComponentModel(ju),i.registerComponentView(hh),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},$r),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},$r)}var ph=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},hr=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),H(r)&&L(r,function(n,o){G(n)&&(n={type:n}),r[o]=et(n,ph(a,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<t.length;a++){var n=t[a].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var h;if(l.legendVisualProvider){var f=l.legendVisualProvider,c=f.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(c)),c.length?r=r.concat(c):h=!0}else h=!0;h&&Jo(l)&&r.push(l.name)}),this._availableNames=a;var n=this.get("data")||r,o=rt(),s=V(n,function(l){return(G(l)||Wt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new gt(l,this,this.ecModel))},this);this._data=Bt(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var n=this._data;L(n,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;L(t,function(a){r[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;L(t,function(a){var n=a.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&xt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(bt),Et=$,fr=L,pe=st,pn=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new pe),this.group.add(this._selectorGroup=new pe),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,a){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,a,l,s,u);var h=t.getBoxLayoutParams(),f={width:a.getWidth(),height:a.getHeight()},c=t.get("padding"),v=ae(h,f,c),d=this.layoutInner(t,o,v,n,l,u),p=ae(q({width:d.width,height:d.height},h),f,c);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=qu(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this.getContentGroup(),h=rt(),f=r.get("selectedMode"),c=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&c.push(v.id)}),fr(r.getData(),function(v,d){var p=v.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new pe;m.newline=!0,u.add(m);return}var g=a.getSeriesByName(p)[0];if(!h.get(p))if(g){var y=g.getData(),_=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),w=y.getVisual("style"),b=this._createItem(g,p,d,v,r,t,_,w,x,f,n);b.on("click",Et(Wi,p,null,n,c)).on("mouseover",Et(vr,g.name,null,n,c)).on("mouseout",Et(cr,g.name,null,n,c)),a.ssr&&b.eachChild(function(S){var T=Y(S);T.seriesIndex=g.seriesIndex,T.dataIndex=d,T.ssrType="legend"}),h.set(p,!0)}else a.eachRawSeries(function(S){if(!h.get(p)&&S.legendVisualProvider){var T=S.legendVisualProvider;if(!T.containName(p))return;var A=T.indexOfName(p),C=T.getItemVisual(A,"style"),D=T.getItemVisual(A,"legendIcon"),I=Qo(C.fill);I&&I[3]===0&&(I[3]=.2,C=X(X({},C),{fill:ts(I,"rgba")}));var M=this._createItem(S,p,d,v,r,t,{},C,D,f,n);M.on("click",Et(Wi,null,p,n,c)).on("mouseover",Et(vr,null,p,n,c)).on("mouseout",Et(cr,null,p,n,c)),a.ssr&&M.eachChild(function(k){var P=Y(k);P.seriesIndex=S.seriesIndex,P.dataIndex=d,P.ssrType="legend"}),h.set(p,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},e.prototype._createSelector=function(t,r,a,n,o){var s=this.getSelectorGroup();fr(t,function(u){var h=u.type,f=new wt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var c=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);mr(f,{normal:c,emphasis:v},{defaultText:u.title}),Kr(f)})},e.prototype._createItem=function(t,r,a,n,o,s,l,u,h,f,c){var v=t.visualDrawType,d=o.get("itemWidth"),p=o.get("itemHeight"),m=o.isSelected(r),g=n.get("symbolRotate"),y=n.get("symbolKeepAspect"),_=n.get("icon");h=_||h||"roundRect";var x=gh(h,n,l,u,v,m,c),w=new pe,b=n.getModel("textStyle");if(F(t.getLegendIcon)&&(!_||_==="inherit"))w.add(t.getLegendIcon({itemWidth:d,itemHeight:p,icon:h,iconRotate:g,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var S=_==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;w.add(mh({itemWidth:d,itemHeight:p,icon:h,iconRotate:S,itemStyle:x.itemStyle,symbolKeepAspect:y}))}var T=s==="left"?d+5:-5,A=s,C=o.get("formatter"),D=r;G(C)&&C?D=C.replace("{name}",r??""):F(C)&&(D=C(r));var I=m?b.getTextColor():n.get("inactiveColor");w.add(new wt({style:Ce(b,{text:D,x:T,y:p/2,fill:I,align:A,verticalAlign:"middle"},{inheritColor:I})}));var M=new kt({shape:w.getBoundingRect(),style:{fill:"transparent"}}),k=n.getModel("tooltip");return k.get("show")&&yr({el:M,componentModel:o,itemName:r,itemTooltipOption:k.option}),w.add(M),w.eachChild(function(P){P.silent=!0}),M.silent=!f,this.getContentGroup().add(w),Kr(w),w.__legendDataIndex=a,w},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Rt(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var h=l.getBoundingRect(),f=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),o){Rt("horizontal",u,t.get("selectorItemGap",!0));var c=u.getBoundingRect(),v=[-c.x,-c.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=p===0?"width":"height",g=p===0?"height":"width",y=p===0?"y":"x";s==="end"?v[p]+=h[m]+d:f[p]+=c[m]+d,v[1-p]+=h[g]/2-c[g]/2,u.x=v[0],u.y=v[1],l.x=f[0],l.y=f[1];var _={x:0,y:0};return _[m]=h[m]+d+c[m],_[g]=Math.max(h[g],c[g]),_[y]=Math.min(0,c[y]+v[1-p]),_}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(It);function gh(i,e,t,r,a,n,o){function s(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),fr(m,function(y,_){m[_]==="inherit"&&(m[_]=g[_])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:es(f,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:t).opacity),s(u,r);var c=e.getModel("lineStyle"),v=c.getLineStyle();if(s(v,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),v.stroke==="auto"&&(v.stroke=r.fill),!n){var d=e.get("inactiveBorderWidth"),p=u[h];u.lineWidth=d==="auto"?r.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),v.stroke=c.get("inactiveColor"),v.lineWidth=c.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function mh(i){var e=i.icon||"roundRect",t=re(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Wi(i,e,t,r){cr(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),vr(i,e,t,r)}function gn(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,a=e.length;r<a&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function vr(i,e,t,r){gn(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function cr(i,e,t,r){gn(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}function yh(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Jt(i,e,t){var r=i==="allSelect"||i==="inverseSelect",a={},n=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[i]():s[i](e.name),Xi(s,a),n.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){L(a,function(l,u){s[l?"select":"unSelect"](u)}),Xi(s,o)}),r?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function Xi(i,e){var t=e||{};return L(i.getData(),function(r){var a=r.get("name");if(!(a===`
`||a==="")){var n=i.isSelected(a);rs(t,a)?t[a]=t[a]&&n:t[a]=n}}),t}function _h(i){i.registerAction("legendToggleSelect","legendselectchanged",$(Jt,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",$(Jt,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",$(Jt,"inverseSelect")),i.registerAction("legendSelect","legendselected",$(Jt,"select")),i.registerAction("legendUnSelect","legendunselected",$(Jt,"unSelect"))}function mn(i){i.registerComponentModel(hr),i.registerComponentView(pn),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,yh),i.registerSubTypeDefaulter("legend",function(){return"plain"}),_h(i)}var xh=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,a){var n=va(t);i.prototype.init.call(this,t,r,a),Zi(this,t,n)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),Zi(this,this.option,t)},e.type="legend.scroll",e.defaultOption=is(hr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(hr);function Zi(i,e,t){var r=i.getOrient(),a=[1,1];a[r.index]=0,ca(e,t,{type:"box",ignoreSize:!!a})}var Ui=st,Xe=["width","height"],Ze=["x","y"],bh=function(i){B(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Ui),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ui)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this;i.prototype.renderInner.call(this,t,r,a,n,o,s,l);var h=this._controllerGroup,f=r.get("pageIconSize",!0),c=H(f)?f:[f,f];d("pagePrev",0);var v=r.getModel("pageTextStyle");h.add(new wt({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,m){var g=p+"DataIndex",y=ga(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:j(u._pageGo,u,g,r,n)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});y.name=p,h.add(y)}},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,h=Xe[u],f=Ze[u],c=Xe[1-u],v=Ze[1-u];o&&Rt("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],g=Nt(a);o&&(g[h]=a[h]-p[h]-d);var y=this._layoutContentAndController(t,n,g,u,h,c,v,f);if(o){if(s==="end")m[u]+=y[h]+d;else{var _=p[h]+d;m[u]-=_,y[f]-=_}y[h]+=p[h]+d,m[1-u]+=y[v]+y[c]/2-p[c]/2,y[c]=Math.max(y[c],p[c]),y[v]=Math.min(y[v],p[v]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,a,n,o,s,l,u){var h=this.getContentGroup(),f=this._containerGroup,c=this._controllerGroup;Rt(t.get("orient"),h,t.get("itemGap"),n?a.width:null,n?null:a.height),Rt("horizontal",c,t.get("pageButtonItemGap",!0));var v=h.getBoundingRect(),d=c.getBoundingRect(),p=this._showController=v[o]>a[o],m=[-v.x,-v.y];r||(m[n]=h[u]);var g=[0,0],y=[-d.x,-d.y],_=Tt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var x=t.get("pageButtonPosition",!0);x==="end"?y[n]+=a[o]-d[o]:g[n]+=d[o]+_}y[1-n]+=v[s]/2-d[s]/2,h.setPosition(m),f.setPosition(g),c.setPosition(y);var w={x:0,y:0};if(w[o]=p?a[o]:v[o],w[s]=Math.max(v[s],d[s]),w[l]=Math.min(0,d[l]+y[1-n]),f.__rectSize=a[o],p){var b={x:0,y:0};b[o]=Math.max(a[o]-d[o]-_,0),b[s]=w[s],f.setClipPath(new kt({shape:b})),f.__rectSize=b[o]}else c.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(t);return S.pageIndex!=null&&Gt(h,{x:S.contentPosition[0],y:S.contentPosition[1]},p?t:null),this._updatePageInfoView(t,S),w},e.prototype._pageGo=function(t,r,a){var n=this._getPageInfo(r)[t];n!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;L(["pagePrev","pageNext"],function(h){var f=h+"DataIndex",c=r[f]!=null,v=a.childOfName(h);v&&(v.setStyle("fill",c?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),v.cursor=c?"pointer":"default")});var n=a.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",G(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=Xe[o],l=Ze[o],u=this._findTargetItemIndex(r),h=a.children(),f=h[u],c=h.length,v=c?1:0,d={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return d;var p=x(f);d.contentPosition[o]=-p.s;for(var m=u+1,g=p,y=p,_=null;m<=c;++m)_=x(h[m]),(!_&&y.e>g.s+n||_&&!w(_,g.s))&&(y.i>g.i?g=y:g=_,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),y=_;for(var m=u-1,g=p,y=p,_=null;m>=-1;--m)_=x(h[m]),(!_||!w(y,_.s))&&g.i<y.i&&(y=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=_;return d;function x(b){if(b){var S=b.getBoundingRect(),T=S[l]+b[l];return{s:T,e:T+S[s],i:b.__legendDataIndex}}}function w(b,S){return b.e>=S&&b.s<=S+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,a=this.getContentGroup(),n;return a.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===t&&(r=s)}),r??n},e.type="legend.scroll",e}(pn);function Sh(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(r)})})}function wh(i){Pt(mn),i.registerComponentModel(xh),i.registerComponentView(bh),Sh(i)}function zh(i){Pt(mn),Pt(wh)}function Fh(i){return De({url:"/statistics/daily",method:"get",params:i})}function Hh(i){return De({url:"/statistics/monthly",method:"get",params:i})}function Vh(i){return De({url:"/statistics/category",method:"get",params:i})}function Wh(i){return De({url:"/statistics/trend",method:"get",params:i})}export{sn as $,nl as A,St as B,pl as C,iu as D,Dr as E,as as F,el as G,ri as H,Xt as I,pi as J,ss as K,ut as L,kl as M,Ah as N,Tu as O,Lu as P,Au as Q,Rh as R,ps as S,Pu as T,Ba as U,en as V,Ht as W,hn as X,_u as Y,yu as Z,Iu as _,Hh as a,ku as a0,Mh as a1,Qs as a2,Bh as a3,qu as a4,Oa as a5,xr as a6,Ds as a7,Vh as a8,Wh as b,Eh as c,Nh as d,Gh as e,zh as f,Fh as g,Ph as h,kh as i,yl as j,Ls as k,Oh as l,Ol as m,Ua as n,Cl as o,ml as p,Th as q,Lh as r,Ih as s,Yl as t,Pt as u,gs as v,Xl as w,Al as x,Du as y,Jl as z};
