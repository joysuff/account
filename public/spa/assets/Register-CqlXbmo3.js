import"./request-DPtWsdmB.js";/* empty css                     *//* empty css                *//* empty css                  *//* empty css                 */import{r as g,a as b,c as E,o as k,b as l,d as r,w as o,E as x,e as P,f as R,u as C,g as F,h as z,i as B,j as I,k as M,l as f,m as U,n as q}from"./index-B4p3Y3uI.js";import{r as L}from"./auth-sMwQcQ5F.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"register-container"},K={class:"register-card"},$={class:"register-header"},j={class:"register-footer"},S={__name:"Register",setup(T){const c=C(),d=g(),u=g(!1),s=b({username:"",password:"",confirmPassword:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在3到20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(t,e,n)=>{e!==s.password?n(new Error("两次输入的密码不一致")):n()},trigger:"blur"}]},m=async()=>{if(d.value)try{await d.value.validate(),u.value=!0;const{msg:t}=await L({username:s.username,password:s.password});q.success(t),c.push("/login")}catch(t){console.error("注册失败:",t)}finally{u.value=!1}};return(t,e)=>{const n=F("Money"),w=x,p=B,i=z,v=M,y=U,V=R;return k(),E("div",h,[l("div",K,[l("div",$,[r(w,{class:"register-icon"},{default:o(()=>[r(n)]),_:1}),e[4]||(e[4]=l("h1",null,"注册账号",-1)),e[5]||(e[5]=l("p",null,"创建您的记账账户",-1))]),r(V,{ref_key:"registerFormRef",ref:d,model:s,rules:_,class:"register-form",onSubmit:P(m,["prevent"])},{default:o(()=>[r(i,{prop:"username"},{default:o(()=>[r(p,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(i,{prop:"password"},{default:o(()=>[r(p,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.password=a),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(i,{prop:"confirmPassword"},{default:o(()=>[r(p,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>s.confirmPassword=a),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:I(m,["enter"])},null,8,["modelValue"])]),_:1}),r(i,null,{default:o(()=>[r(v,{type:"primary",size:"large",class:"register-btn",loading:u.value,onClick:m},{default:o(()=>[...e[6]||(e[6]=[f(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1}),l("div",j,[e[8]||(e[8]=l("span",null,"已有账号？",-1)),r(y,{type:"primary",onClick:e[3]||(e[3]=a=>t.$router.push("/login"))},{default:o(()=>[...e[7]||(e[7]=[f(" 立即登录 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}},Y=N(S,[["__scopeId","data-v-57b48840"]]);export{Y as default};
